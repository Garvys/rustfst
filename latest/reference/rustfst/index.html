
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://github.com/Garvys/rustfst/latest/reference/rustfst/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.14">
    
    
      
        <title>rustfst - rustfst-python</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.3de6f41f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rustfst" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        <aside class="md-banner md-banner--warning">
          
        </aside>
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="rustfst-python" class="md-header__button md-logo" aria-label="rustfst-python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            rustfst-python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              rustfst
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Garvys/rustfst" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    rustfst
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="rustfst-python" class="md-nav__button md-logo" aria-label="rustfst-python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    rustfst-python
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Garvys/rustfst" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    rustfst
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Code Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Code Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index md-nav__link--active">
          <a href="./">rustfst</a>
          
            <label for="__nav_2_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="rustfst" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          rustfst
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_1" type="checkbox" id="__nav_2_1_1" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="algorithms/">algorithms</a>
          
            <label for="__nav_2_1_1">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="algorithms" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_1">
          <span class="md-nav__icon md-icon"></span>
          algorithms
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/compose/" class="md-nav__link">
        compose
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/concat/" class="md-nav__link">
        concat
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/connect/" class="md-nav__link">
        connect
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/determinize/" class="md-nav__link">
        determinize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/isomorphic/" class="md-nav__link">
        isomorphic
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/optimize/" class="md-nav__link">
        optimize
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/project/" class="md-nav__link">
        project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/randgen/" class="md-nav__link">
        randgen
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/replace/" class="md-nav__link">
        replace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/reverse/" class="md-nav__link">
        reverse
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/rm_epsilon/" class="md-nav__link">
        rm_epsilon
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/shortest_path/" class="md-nav__link">
        shortest_path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/top_sort/" class="md-nav__link">
        top_sort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/tr_sort/" class="md-nav__link">
        tr_sort
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/tr_unique/" class="md-nav__link">
        tr_unique
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="algorithms/union/" class="md-nav__link">
        union
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="drawing_config/" class="md-nav__link">
        drawing_config
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="ffi_utils/" class="md-nav__link">
        ffi_utils
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1_4" type="checkbox" id="__nav_2_1_4" >
      
      
      
      
        
        
        <div class="md-nav__link md-nav__link--index ">
          <a href="fst/">fst</a>
          
            <label for="__nav_2_1_4">
              <span class="md-nav__icon md-icon"></span>
            </label>
          
        </div>
      
      <nav class="md-nav" aria-label="fst" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_1_4">
          <span class="md-nav__icon md-icon"></span>
          fst
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="fst/const_fst/" class="md-nav__link">
        const_fst
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="fst/vector_fst/" class="md-nav__link">
        vector_fst
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="iterators/" class="md-nav__link">
        iterators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="string_path/" class="md-nav__link">
        string_path
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="string_paths_iterator/" class="md-nav__link">
        string_paths_iterator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="symbol_table/" class="md-nav__link">
        symbol_table
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="tr/" class="md-nav__link">
        tr
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="trs/" class="md-nav__link">
        trs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="weight/" class="md-nav__link">
        weight
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#rustfst" class="md-nav__link">
    rustfst
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rustfst-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rustfst-modules" class="md-nav__link">
    Modules
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.weight" class="md-nav__link">
    weight
  </a>
  
    <nav class="md-nav" aria-label="weight">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.weight-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.weight-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.weight.weight_one" class="md-nav__link">
    weight_one()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.weight.weight_zero" class="md-nav__link">
    weight_zero()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.symbol_table" class="md-nav__link">
    symbol_table
  </a>
  
    <nav class="md-nav" aria-label="symbol_table">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.symbol_table-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.symbol_table-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.symbol_table.SymbolTable" class="md-nav__link">
    SymbolTable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.symbol_table.SymbolTableIterator" class="md-nav__link">
    SymbolTableIterator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.symbol_table-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.drawing_config" class="md-nav__link">
    drawing_config
  </a>
  
    <nav class="md-nav" aria-label="drawing_config">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.drawing_config-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.drawing_config.DrawingConfig" class="md-nav__link">
    DrawingConfig
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.string_paths_iterator" class="md-nav__link">
    string_paths_iterator
  </a>
  
    <nav class="md-nav" aria-label="string_paths_iterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.string_paths_iterator-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.string_paths_iterator-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.string_paths_iterator.StringPathsIterator" class="md-nav__link">
    StringPathsIterator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.string_paths_iterator-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.string_path" class="md-nav__link">
    string_path
  </a>
  
    <nav class="md-nav" aria-label="string_path">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.string_path-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.string_path-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.string_path.StringPath" class="md-nav__link">
    StringPath
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.string_path-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.tr" class="md-nav__link">
    tr
  </a>
  
    <nav class="md-nav" aria-label="tr">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.tr-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.tr-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.tr.Tr" class="md-nav__link">
    Tr
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.tr-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.trs" class="md-nav__link">
    trs
  </a>
  
    <nav class="md-nav" aria-label="trs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.trs-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.trs-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.trs.Trs" class="md-nav__link">
    Trs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.trs-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.iterators" class="md-nav__link">
    iterators
  </a>
  
    <nav class="md-nav" aria-label="iterators">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.iterators-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.iterators-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.iterators.TrsIterator" class="md-nav__link">
    TrsIterator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.iterators.MutableTrsIterator" class="md-nav__link">
    MutableTrsIterator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.iterators.StateIterator" class="md-nav__link">
    StateIterator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.iterators-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.fst" class="md-nav__link">
    fst
  </a>
  
    <nav class="md-nav" aria-label="fst">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.fst-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.fst-classes" class="md-nav__link">
    Classes
  </a>
  
    <nav class="md-nav" aria-label="Classes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.fst.Fst" class="md-nav__link">
    Fst
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.fst-functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.fst-modules" class="md-nav__link">
    Modules
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.fst.vector_fst" class="md-nav__link">
    vector_fst
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.fst.const_fst" class="md-nav__link">
    const_fst
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms" class="md-nav__link">
    algorithms
  </a>
  
    <nav class="md-nav" aria-label="algorithms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms-attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms-classes" class="md-nav__link">
    Classes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms-functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav" aria-label="Functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.acceptor" class="md-nav__link">
    acceptor()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.transducer" class="md-nav__link">
    transducer()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.epsilon_machine" class="md-nav__link">
    epsilon_machine()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms-modules" class="md-nav__link">
    Modules
  </a>
  
    <nav class="md-nav" aria-label="Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.rm_epsilon" class="md-nav__link">
    rm_epsilon
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.top_sort" class="md-nav__link">
    top_sort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_unique" class="md-nav__link">
    tr_unique
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.tr_sort" class="md-nav__link">
    tr_sort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.shortest_path" class="md-nav__link">
    shortest_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.determinize" class="md-nav__link">
    determinize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.union" class="md-nav__link">
    union
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.compose" class="md-nav__link">
    compose
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.randgen" class="md-nav__link">
    randgen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.reverse" class="md-nav__link">
    reverse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.isomorphic" class="md-nav__link">
    isomorphic
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.optimize" class="md-nav__link">
    optimize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.concat" class="md-nav__link">
    concat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.project" class="md-nav__link">
    project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.replace" class="md-nav__link">
    replace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rustfst.algorithms.connect" class="md-nav__link">
    connect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/home/runner/work/rustfst/rustfst/rustfst-python/rustfst/__init__.py" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<div class="doc doc-object doc-module">

<a id="rustfst"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">





<h3 id="rustfst-classes">Classes</h3>

<h3 id="rustfst-modules">Modules</h3>

  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.weight">
        <code>weight</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.weight-attributes">Attributes</h5>

<h5 id="rustfst.weight-functions">Functions</h5>

  <div class="doc doc-object doc-function">



<h6 class="doc doc-heading" id="rustfst.weight.weight_one">
<code class="highlight language-python"><span class="n">weight_one</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">float</span></code>


</h6>


    <div class="doc doc-contents ">

      <p>Compute One() in the Tropical Semiring.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td><p>Float value corresponding to One() in the Tropical Semiring.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/weight.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">weight_one</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute One() in the Tropical Semiring.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Float value corresponding to One() in the Tropical Semiring.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_weight_one</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">weight</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;weight_one failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">weight</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 class="doc doc-heading" id="rustfst.weight.weight_zero">
<code class="highlight language-python"><span class="n">weight_zero</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">float</span></code>


</h6>


    <div class="doc doc-contents ">

      <p>Compute Zero() in the Tropical Semiring.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td><p>Float value corresponding to Zero() in the Tropical Semiring.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/weight.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">weight_zero</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute Zero() in the Tropical Semiring.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Float value corresponding to Zero() in the Tropical Semiring.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_weight_zero</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">weight</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;weight_zero failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">weight</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.symbol_table">
        <code>symbol_table</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.symbol_table-attributes">Attributes</h5>
<h5 id="rustfst.symbol_table-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable">
          <code>SymbolTable</code>



</h6>


    <div class="doc doc-contents ">


      <p><code>SymbolTable</code> class. This class wraps the <code>SymbolTable</code> struct.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 10</span>
<span class="normal"> 11</span>
<span class="normal"> 12</span>
<span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SymbolTable</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `SymbolTable` class. This class wraps the `SymbolTable` struct.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an empty `SymbolTable`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ptr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ptr</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">symt_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_new</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">symt_ptr</span><span class="p">))</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;__init__ failed&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">symt_ptr</span>

    <span class="k">def</span> <span class="nf">add_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a symbol to the table and returns the index.</span>

<span class="sd">        Args:</span>
<span class="sd">          symbol: A symbol unicode string.</span>
<span class="sd">        Returns:</span>
<span class="sd">          The integer key of the new symbol.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">symbol</span> <span class="o">=</span> <span class="n">symbol</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
            <span class="n">symbol</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>

        <span class="n">integer_key</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_add_symbol</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">integer_key</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`add_symbol` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">integer_key</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syms</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method merges another symbol table into the current table. All key</span>
<span class="sd">        values will be offset by the current available key.</span>
<span class="sd">        Args:</span>
<span class="sd">          syms: A `SymbolTable` to be merged with the current table.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_add_table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">syms</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`add_table` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            A mutable copy of the `SymbolTable`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">clone</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">clone</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`copy` failed.&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">clone</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given a symbol or index, finds the other one.</span>
<span class="sd">        This method returns the index associated with a symbol key, or the symbol</span>
<span class="sd">        associated with a index key.</span>
<span class="sd">        Args:</span>
<span class="sd">          key: Either a string or an index.</span>
<span class="sd">        Returns:</span>
<span class="sd">          If key is a string, the associated index; if key is an integer, the</span>
<span class="sd">              associated symbol.</span>
<span class="sd">        Raises:</span>
<span class="sd">          KeyError: Key not found.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_index</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_symbol</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">raise</span> <span class="sa">f</span><span class="s2">&quot;key can only be a string or integer. Not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="nf">_find_index</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">key</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">symbol</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_find_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">symbol</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`find` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">string_at</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_find_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">symbol</span> <span class="o">=</span> <span class="n">symbol</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_find_symbol</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`find` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given a symbol or index, returns whether it is found in the table.</span>
<span class="sd">        This method returns a boolean indicating whether the given symbol or index</span>
<span class="sd">        is present in the table. If one intends to perform subsequent lookup, it is</span>
<span class="sd">        better to simply call the find method, catching the KeyError.</span>
<span class="sd">        Args:</span>
<span class="sd">          key: Either a string or an index.</span>
<span class="sd">        Returns:</span>
<span class="sd">          Whether or not the key is present (as a string or a index) in the table.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_present</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_member_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_present</span><span class="p">))</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">symbol</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_member_symbol</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_present</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="sa">f</span><span class="s2">&quot;key can only be a string or integer. Not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`member` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_present</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">num_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            The number of symbols in the symbol table.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num_symbols</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_num_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_symbols</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`num_symbols` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_symbols</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads symbol table from binary file.</span>
<span class="sd">        This class method creates a new SymbolTable from a symbol table binary file.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the input binary file.</span>
<span class="sd">        Returns:</span>
<span class="sd">          A new SymbolTable instance.</span>
<span class="sd">        See also: `SymbolTable.read_fst`, `SymbolTable.read_text`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">symt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_from_path</span><span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">symt</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed for bin file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">symt</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">read_text</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reads symbol table from text file.</span>
<span class="sd">        This class method creates a new SymbolTable from a symbol table text file.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the input text file.</span>

<span class="sd">        Returns:</span>
<span class="sd">          A new SymbolTable instance.</span>
<span class="sd">        See also: `SymbolTable.read`, `SymbolTable.read_fst`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">symt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_from_path</span><span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">symt</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed for text file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">symt</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Serializes symbol table to a file.</span>
<span class="sd">        This methods writes the SymbolTable to a file in binary format.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the output file.</span>
<span class="sd">        Raises:</span>
<span class="sd">          FstIOError: Write failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_write_file</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed for bin file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes symbol table to text file.</span>
<span class="sd">        This method writes the SymbolTable to a file in human-readable format.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the output file.</span>
<span class="sd">        Raises:</span>
<span class="sd">          FstIOError: Write failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_write_file</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed for text file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if this SymbolTable is equal to the other</span>

<span class="sd">        Params:</span>
<span class="sd">            other: SymbolTable instance</span>
<span class="sd">        Returns:</span>
<span class="sd">             bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_equal</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_equals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_equal</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking equality&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_equal</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if this `SymbolTable` is equal to the other</span>

<span class="sd">        Params:</span>
<span class="sd">            other: SymbolTable instance</span>
<span class="sd">        Returns:</span>
<span class="sd">             bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTableIterator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an Iterator over the SymbolTable.</span>
<span class="sd">        Returns:</span>
<span class="sd">            An iterator over the SymbolTable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">SymbolTableIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_symbols</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">symbols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs a SymbolTable from list of strings.</span>

<span class="sd">        Args:</span>
<span class="sd">            symbols: List of symbols</span>

<span class="sd">        Returns:</span>
<span class="sd">            A new `SymbolTable`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">symt</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">symbols</span><span class="p">:</span>
            <span class="n">symt</span><span class="o">.</span><span class="n">add_symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">symt</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">symt_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.symbol_table.SymbolTable-attributes">Attributes</h7>


<h7 id="rustfst.symbol_table.SymbolTable-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">ptr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Creates an empty <code>SymbolTable</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an empty `SymbolTable`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">ptr</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ptr</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">symt_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_new</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">symt_ptr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;__init__ failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">symt_ptr</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.add_symbol">
<code class="highlight language-python"><span class="n">add_symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Adds a symbol to the table and returns the index.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>symbol</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>A symbol unicode string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer key of the new symbol.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_symbol</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a symbol to the table and returns the index.</span>

<span class="sd">    Args:</span>
<span class="sd">      symbol: A symbol unicode string.</span>
<span class="sd">    Returns:</span>
<span class="sd">      The integer key of the new symbol.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">symbol</span> <span class="o">=</span> <span class="n">symbol</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
        <span class="n">symbol</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>

    <span class="n">integer_key</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_add_symbol</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">integer_key</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`add_symbol` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">integer_key</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.add_table">
<code class="highlight language-python"><span class="n">add_table</span><span class="p">(</span><span class="n">syms</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>This method merges another symbol table into the current table. All key
values will be offset by the current available key.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>syms</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>A <code>SymbolTable</code> to be merged with the current table.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_table</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syms</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This method merges another symbol table into the current table. All key</span>
<span class="sd">    values will be offset by the current available key.</span>
<span class="sd">    Args:</span>
<span class="sd">      syms: A `SymbolTable` to be merged with the current table.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_add_table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">syms</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`add_table` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.copy">
<code class="highlight language-python"><span class="n">copy</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span></code>


</h8>


    <div class="doc doc-contents ">


  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>A mutable copy of the <code>SymbolTable</code>.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">        A mutable copy of the `SymbolTable`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">clone</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">clone</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`copy` failed.&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">clone</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.find">
<code class="highlight language-python"><span class="n">find</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Given a symbol or index, finds the other one.
This method returns the index associated with a symbol key, or the symbol
associated with a index key.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>key</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[int, str]</code>
          </td>
          <td><p>Either a string or an index.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Union">Union</span>[int, str]</code>
          </td>
          <td><p>If key is a string, the associated index; if key is an integer, the
  associated symbol.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>KeyError</code>
          </td>
          <td><p>Key not found.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">find</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a symbol or index, finds the other one.</span>
<span class="sd">    This method returns the index associated with a symbol key, or the symbol</span>
<span class="sd">    associated with a index key.</span>
<span class="sd">    Args:</span>
<span class="sd">      key: Either a string or an index.</span>
<span class="sd">    Returns:</span>
<span class="sd">      If key is a string, the associated index; if key is an integer, the</span>
<span class="sd">          associated symbol.</span>
<span class="sd">    Raises:</span>
<span class="sd">      KeyError: Key not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_index</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_find_symbol</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="k">raise</span> <span class="sa">f</span><span class="s2">&quot;key can only be a string or integer. Not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.member">
<code class="highlight language-python"><span class="n">member</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Given a symbol or index, returns whether it is found in the table.
This method returns a boolean indicating whether the given symbol or index
is present in the table. If one intends to perform subsequent lookup, it is
better to simply call the find method, catching the KeyError.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>key</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[int, str]</code>
          </td>
          <td><p>Either a string or an index.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether or not the key is present (as a string or a index) in the table.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">member</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Given a symbol or index, returns whether it is found in the table.</span>
<span class="sd">    This method returns a boolean indicating whether the given symbol or index</span>
<span class="sd">    is present in the table. If one intends to perform subsequent lookup, it is</span>
<span class="sd">    better to simply call the find method, catching the KeyError.</span>
<span class="sd">    Args:</span>
<span class="sd">      key: Either a string or an index.</span>
<span class="sd">    Returns:</span>
<span class="sd">      Whether or not the key is present (as a string or a index) in the table.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is_present</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_member_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_present</span><span class="p">))</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="n">symbol</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_member_symbol</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_present</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="sa">f</span><span class="s2">&quot;key can only be a string or integer. Not </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">key</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`member` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_present</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.num_symbols">
<code class="highlight language-python"><span class="n">num_symbols</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>


</h8>


    <div class="doc doc-contents ">


  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td><p>The number of symbols in the symbol table.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">num_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">        The number of symbols in the symbol table.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">num_symbols</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_num_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_symbols</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`num_symbols` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_symbols</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.read">
<code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

      <p>Reads symbol table from binary file.
This class method creates a new SymbolTable from a symbol table binary file.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td><p>The string location of the input binary file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>A new SymbolTable instance.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>SymbolTable.read_fst</code>, <code>SymbolTable.read_text</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads symbol table from binary file.</span>
<span class="sd">    This class method creates a new SymbolTable from a symbol table binary file.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the input binary file.</span>
<span class="sd">    Returns:</span>
<span class="sd">      A new SymbolTable instance.</span>
<span class="sd">    See also: `SymbolTable.read_fst`, `SymbolTable.read_text`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">symt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_from_path</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">symt</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed for bin file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">symt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.read_text">
<code class="highlight language-python"><span class="n">read_text</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

      <p>Reads symbol table from text file.
This class method creates a new SymbolTable from a symbol table text file.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td><p>The string location of the input text file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>A new SymbolTable instance.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>SymbolTable.read</code>, <code>SymbolTable.read_fst</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">read_text</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Reads symbol table from text file.</span>
<span class="sd">    This class method creates a new SymbolTable from a symbol table text file.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the input text file.</span>

<span class="sd">    Returns:</span>
<span class="sd">      A new SymbolTable instance.</span>
<span class="sd">    See also: `SymbolTable.read`, `SymbolTable.read_fst`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">symt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_from_path</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">symt</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed for text file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">symt</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.write">
<code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Serializes symbol table to a file.
This methods writes the SymbolTable to a file in binary format.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td><p>The string location of the output file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>FstIOError</code>
          </td>
          <td><p>Write failed.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Serializes symbol table to a file.</span>
<span class="sd">    This methods writes the SymbolTable to a file in binary format.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the output file.</span>
<span class="sd">    Raises:</span>
<span class="sd">      FstIOError: Write failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_write_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed for bin file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.write_text">
<code class="highlight language-python"><span class="n">write_text</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Writes symbol table to text file.
This method writes the SymbolTable to a file in human-readable format.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="pathlib.Path">Path</span></code>
          </td>
          <td><p>The string location of the output file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>FstIOError</code>
          </td>
          <td><p>Write failed.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">write_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Path</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Writes symbol table to text file.</span>
<span class="sd">    This method writes the SymbolTable to a file in human-readable format.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the output file.</span>
<span class="sd">    Raises:</span>
<span class="sd">      FstIOError: Write failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_write_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed for text file : </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.equals">
<code class="highlight language-python"><span class="n">equals</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Check if this SymbolTable is equal to the other</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>other</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable instance</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>bool</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if this SymbolTable is equal to the other</span>

<span class="sd">    Params:</span>
<span class="sd">        other: SymbolTable instance</span>
<span class="sd">    Returns:</span>
<span class="sd">         bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is_equal</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">symt_equals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_equal</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking equality&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_equal</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.__eq__">
<code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Check if this <code>SymbolTable</code> is equal to the other</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>other</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable instance</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>bool</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if this `SymbolTable` is equal to the other</span>

<span class="sd">    Params:</span>
<span class="sd">        other: SymbolTable instance</span>
<span class="sd">    Returns:</span>
<span class="sd">         bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.__iter__">
<code class="highlight language-python"><span class="fm">__iter__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">SymbolTableIterator</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns an Iterator over the SymbolTable.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTableIterator" href="symbol_table/#rustfst.symbol_table.SymbolTableIterator">SymbolTableIterator</a></code>
          </td>
          <td><p>An iterator over the SymbolTable.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SymbolTableIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns an Iterator over the SymbolTable.</span>
<span class="sd">    Returns:</span>
<span class="sd">        An iterator over the SymbolTable.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">SymbolTableIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTable.from_symbols">
<code class="highlight language-python"><span class="n">from_symbols</span><span class="p">(</span><span class="n">symbols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h8>


    <div class="doc doc-contents ">

      <p>Constructs a SymbolTable from list of strings.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>symbols</code></td>
          <td>
                <code><span title="typing.List">List</span>[str]</code>
          </td>
          <td><p>List of symbols</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>A new <code>SymbolTable</code>.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_symbols</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">symbols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">SymbolTable</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructs a SymbolTable from list of strings.</span>

<span class="sd">    Args:</span>
<span class="sd">        symbols: List of symbols</span>

<span class="sd">    Returns:</span>
<span class="sd">        A new `SymbolTable`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">symt</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">symbols</span><span class="p">:</span>
        <span class="n">symt</span><span class="o">.</span><span class="n">add_symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">symt</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.symbol_table.SymbolTableIterator">
          <code>SymbolTableIterator</code>



</h6>


    <div class="doc doc-contents ">


      <p>Iterator on a SymbolTable. Allows retrieving all the symbols along with their corresponding labels.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">SymbolTableIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterator on a SymbolTable. Allows retrieving all the symbols along with their corresponding labels.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol_table</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructs an iterator from the `Symboltable`.</span>
<span class="sd">        Args:</span>
<span class="sd">            symbol_table:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_symt</span> <span class="o">=</span> <span class="n">symbol_table</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_idx</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_len</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_symt</span><span class="o">.</span><span class="n">num_symbols</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Iterator over the symbols in the `SymbolTable`.</span>
<span class="sd">        Returns:</span>
<span class="sd">            A pair label (int) and symbol (str).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idx</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_len</span><span class="p">:</span>
            <span class="n">output</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_idx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_symt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_idx</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_idx</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">output</span>
        <span class="k">raise</span> <span class="ne">StopIteration</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.symbol_table.SymbolTableIterator-attributes">Attributes</h7>




<h7 id="rustfst.symbol_table.SymbolTableIterator-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTableIterator.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">symbol_table</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Constructs an iterator from the <code>Symboltable</code>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>symbol_table</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol_table</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructs an iterator from the `Symboltable`.</span>
<span class="sd">    Args:</span>
<span class="sd">        symbol_table:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_symt</span> <span class="o">=</span> <span class="n">symbol_table</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_idx</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_len</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_symt</span><span class="o">.</span><span class="n">num_symbols</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.symbol_table.SymbolTableIterator.__next__">
<code class="highlight language-python"><span class="fm">__next__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Iterator over the symbols in the <code>SymbolTable</code>.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Tuple">Tuple</span>[int, str]</code>
          </td>
          <td><p>A pair label (int) and symbol (str).</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/symbol_table.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterator over the symbols in the `SymbolTable`.</span>
<span class="sd">    Returns:</span>
<span class="sd">        A pair label (int) and symbol (str).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_idx</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_len</span><span class="p">:</span>
        <span class="n">output</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_idx</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_symt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_idx</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_idx</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">output</span>
    <span class="k">raise</span> <span class="ne">StopIteration</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>


<h5 id="rustfst.symbol_table-functions">Functions</h5>



  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.drawing_config">
        <code>drawing_config</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">





<h5 id="rustfst.drawing_config-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.drawing_config.DrawingConfig">
          <code>DrawingConfig</code>



</h6>


    <div class="doc doc-contents ">




          <details class="quote">
            <summary>Source code in <code>rustfst/drawing_config.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DrawingConfig</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">acceptor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">portrait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">vertical</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
        <span class="n">ranksep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">nodesep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">fontsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
        <span class="n">show_weight_one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">print_weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            acceptor: Should the figure be rendered in acceptor format if possible?</span>
<span class="sd">            title: An optional string indicating the figure title.</span>
<span class="sd">            width: The figure width, in inches.</span>
<span class="sd">            height: The figure height, in inches.</span>
<span class="sd">            portrait: Should the figure be rendered in portrait rather than</span>
<span class="sd">                landscape?</span>
<span class="sd">            vertical: Should the figure be rendered bottom-to-top rather than</span>
<span class="sd">                left-to-right?</span>
<span class="sd">            ranksep: The minimum separation separation between ranks, in inches.</span>
<span class="sd">            nodesep: The minimum separation between nodes, in inches.</span>
<span class="sd">            fontsize: Font size, in points.</span>
<span class="sd">            show_weight_one: Should weights equivalent to semiring One be printed?</span>
<span class="sd">            print_weight: Should weights be printed</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acceptor</span> <span class="o">=</span> <span class="n">acceptor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">portrait</span> <span class="o">=</span> <span class="n">portrait</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vertical</span> <span class="o">=</span> <span class="n">vertical</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ranksep</span> <span class="o">=</span> <span class="n">ranksep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nodesep</span> <span class="o">=</span> <span class="n">nodesep</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">fontsize</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show_weight_one</span> <span class="o">=</span> <span class="n">show_weight_one</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print_weight</span> <span class="o">=</span> <span class="n">print_weight</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.drawing_config.DrawingConfig-attributes">Attributes</h7>












<h7 id="rustfst.drawing_config.DrawingConfig-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.drawing_config.DrawingConfig.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">acceptor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">height</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">portrait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">vertical</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ranksep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">nodesep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">fontsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span> <span class="n">show_weight_one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">print_weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">


  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>acceptor</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should the figure be rendered in acceptor format if possible?</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>title</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>An optional string indicating the figure title.</p></td>
          <td>
                <code>&#39;&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>width</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>The figure width, in inches.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>height</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>The figure height, in inches.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>portrait</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should the figure be rendered in portrait rather than
landscape?</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>vertical</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should the figure be rendered bottom-to-top rather than
left-to-right?</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>ranksep</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>The minimum separation separation between ranks, in inches.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>nodesep</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>The minimum separation between nodes, in inches.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>fontsize</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>Font size, in points.</p></td>
          <td>
                <code>14</code>
          </td>
        </tr>
        <tr>
          <td><code>show_weight_one</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should weights equivalent to semiring One be printed?</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>print_weight</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should weights be printed</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/drawing_config.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">acceptor</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="n">width</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">height</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">portrait</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">vertical</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">ranksep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">nodesep</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">fontsize</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">14</span><span class="p">,</span>
    <span class="n">show_weight_one</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">print_weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">        acceptor: Should the figure be rendered in acceptor format if possible?</span>
<span class="sd">        title: An optional string indicating the figure title.</span>
<span class="sd">        width: The figure width, in inches.</span>
<span class="sd">        height: The figure height, in inches.</span>
<span class="sd">        portrait: Should the figure be rendered in portrait rather than</span>
<span class="sd">            landscape?</span>
<span class="sd">        vertical: Should the figure be rendered bottom-to-top rather than</span>
<span class="sd">            left-to-right?</span>
<span class="sd">        ranksep: The minimum separation separation between ranks, in inches.</span>
<span class="sd">        nodesep: The minimum separation between nodes, in inches.</span>
<span class="sd">        fontsize: Font size, in points.</span>
<span class="sd">        show_weight_one: Should weights equivalent to semiring One be printed?</span>
<span class="sd">        print_weight: Should weights be printed</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">acceptor</span> <span class="o">=</span> <span class="n">acceptor</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">portrait</span> <span class="o">=</span> <span class="n">portrait</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">vertical</span> <span class="o">=</span> <span class="n">vertical</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ranksep</span> <span class="o">=</span> <span class="n">ranksep</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">nodesep</span> <span class="o">=</span> <span class="n">nodesep</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">fontsize</span> <span class="o">=</span> <span class="n">fontsize</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">show_weight_one</span> <span class="o">=</span> <span class="n">show_weight_one</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">print_weight</span> <span class="o">=</span> <span class="n">print_weight</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.string_paths_iterator">
        <code>string_paths_iterator</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.string_paths_iterator-attributes">Attributes</h5>
<h5 id="rustfst.string_paths_iterator-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.string_paths_iterator.StringPathsIterator">
          <code>StringPathsIterator</code>



</h6>


    <div class="doc doc-contents ">


      <p>Iterator allowing to loop through all the paths recognized by an Fst.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/string_paths_iterator.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">StringPathsIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Iterator allowing to loop through all the paths recognized by an Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor of the Iterator.</span>

<span class="sd">        Args:</span>
<span class="sd">            fst: Fst on which we want to loop though the valid paths.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_fst</span> <span class="o">=</span> <span class="n">fst</span>  <span class="c1"># reference fst to prolong its lifetime (prevent early gc)</span>

        <span class="n">iter_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_paths_iterator_new</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">iter_ptr</span><span class="p">))</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating a StringPathsIterator&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">iter_ptr</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StringPath</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot; &quot;&quot;&quot;</span>
        <span class="n">string_path_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_paths_iterator_next</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">string_path_ptr</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`next` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">string_path_ptr</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>

        <span class="k">return</span> <span class="n">StringPath</span><span class="p">(</span><span class="n">string_path_ptr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns whether we&#39;re at the end of the Iterator.</span>
<span class="sd">        Returns:</span>
<span class="sd">            True or False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_paths_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;ptr&quot;</span><span class="p">):</span>
            <span class="n">lib</span><span class="o">.</span><span class="n">string_paths_iterator_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.string_paths_iterator.StringPathsIterator-attributes">Attributes</h7>



<h7 id="rustfst.string_paths_iterator.StringPathsIterator-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.string_paths_iterator.StringPathsIterator.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Constructor of the Iterator.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst on which we want to loop though the valid paths.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/string_paths_iterator.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor of the Iterator.</span>

<span class="sd">    Args:</span>
<span class="sd">        fst: Fst on which we want to loop though the valid paths.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_fst</span> <span class="o">=</span> <span class="n">fst</span>  <span class="c1"># reference fst to prolong its lifetime (prevent early gc)</span>

    <span class="n">iter_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_paths_iterator_new</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">iter_ptr</span><span class="p">))</span>
    <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating a StringPathsIterator&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">iter_ptr</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.string_paths_iterator.StringPathsIterator.done">
<code class="highlight language-python"><span class="n">done</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns whether we're at the end of the Iterator.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>True or False</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/string_paths_iterator.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns whether we&#39;re at the end of the Iterator.</span>
<span class="sd">    Returns:</span>
<span class="sd">        True or False</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_paths_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
    <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>


<h5 id="rustfst.string_paths_iterator-functions">Functions</h5>



  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.string_path">
        <code>string_path</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.string_path-attributes">Attributes</h5>
<h5 id="rustfst.string_path-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.string_path.StringPath">
          <code>StringPath</code>



</h6>


    <div class="doc doc-contents ">


      <p>Struct representing a Path recognized by an Fst allowing to retrieve the input string,
the output string and the weight of the Path.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/string_path.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">StringPath</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Struct representing a Path recognized by an Fst allowing to retrieve the input string,</span>
<span class="sd">    the output string and the weight of the Path.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ptr</span>

    <span class="k">def</span> <span class="nf">weight</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the weight of the path.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Weight of the path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_path_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">weight</span><span class="p">))</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`weight` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">weight</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span> <span class="nf">istring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the input string of the Path.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Input string of the Path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">istring</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_path_istring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">istring</span><span class="p">))</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`istring` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">string_at</span><span class="p">(</span><span class="n">istring</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">ostring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the output string of the Path.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Output string of the Path.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ostring</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_path_ostring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">ostring</span><span class="p">))</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`ostring` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">string_at</span><span class="p">(</span><span class="n">ostring</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">string_path_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.string_path.StringPath-attributes">Attributes</h7>


<h7 id="rustfst.string_path.StringPath-functions">Functions</h7>


  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.string_path.StringPath.weight">
<code class="highlight language-python"><span class="n">weight</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">float</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the weight of the path.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>float</code>
          </td>
          <td><p>Weight of the path.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/string_path.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">weight</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the weight of the path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Weight of the path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_path_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">weight</span><span class="p">))</span>
    <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`weight` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">weight</span><span class="o">.</span><span class="n">value</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.string_path.StringPath.istring">
<code class="highlight language-python"><span class="n">istring</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the input string of the Path.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>Input string of the Path.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/string_path.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">istring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the input string of the Path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Input string of the Path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">istring</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_path_istring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">istring</span><span class="p">))</span>
    <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`istring` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">string_at</span><span class="p">(</span><span class="n">istring</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.string_path.StringPath.ostring">
<code class="highlight language-python"><span class="n">ostring</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the output string of the Path.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>str</code>
          </td>
          <td><p>Output string of the Path.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/string_path.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">ostring</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the output string of the Path.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Output string of the Path.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ostring</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">string_path_ostring</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">ostring</span><span class="p">))</span>
    <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`ostring` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">string_at</span><span class="p">(</span><span class="n">ostring</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>


<h5 id="rustfst.string_path-functions">Functions</h5>



  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.tr">
        <code>tr</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.tr-attributes">Attributes</h5>
<h5 id="rustfst.tr-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.tr.Tr">
          <code>Tr</code>



</h6>


    <div class="doc doc-contents ">


      <p>Structure representing a transition from a state to another state in a FST.</p>

  <p><strong>Attributes:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ilabel</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The input label.</p></td>
        </tr>
        <tr>
          <td><code>olabel</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The output label.</p></td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>The transition weight.</p></td>
        </tr>
        <tr>
          <td><code>nextstate</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>The destination state for the arc.</p></td>
        </tr>
    </tbody>
  </table>


          <details class="quote">
            <summary>Source code in <code>rustfst/tr.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Tr</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Structure representing a transition from a state to another state in a FST.</span>
<span class="sd">    Attributes:</span>
<span class="sd">        ilabel: The input label.</span>
<span class="sd">        olabel: The output label.</span>
<span class="sd">        weight: The transition weight.</span>
<span class="sd">        nextstate: The destination state for the arc.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ilabel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">olabel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">nextstate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create a new transition.</span>

<span class="sd">        Args:</span>
<span class="sd">            ilabel: The input label.</span>
<span class="sd">            olabel: The outpit label.</span>
<span class="sd">            weight: The transition&#39;s weight</span>
<span class="sd">            nextstate: The destination state for the transition.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ilabel</span> <span class="ow">and</span> <span class="n">olabel</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">nextstate</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">ilabel</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

            <span class="n">ptr</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">()</span>
            <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_new</span><span class="p">(</span>
                <span class="n">c_size_t</span><span class="p">(</span><span class="n">ilabel</span><span class="p">),</span>
                <span class="n">c_size_t</span><span class="p">(</span><span class="n">olabel</span><span class="p">),</span>
                <span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">),</span>
                <span class="n">c_size_t</span><span class="p">(</span><span class="n">nextstate</span><span class="p">),</span>
                <span class="n">byref</span><span class="p">(</span><span class="n">ptr</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating the Tr struct&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">ptr</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ptr</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">ilabel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">ilabel</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_ilabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">ilabel</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when reading Tr ilabel value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">ilabel</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@ilabel</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">ilabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">ilabel</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_set_ilabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ilabel</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when setting Tr ilabel value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">olabel</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">olabel</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_olabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">olabel</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when reading Tr ilabel value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">olabel</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@olabel</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">olabel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">olabel</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_set_olabel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">olabel</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when setting Tr olabel value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">weight</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">c_float</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">weight</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when reading Tr ilabel value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">weight</span><span class="o">.</span><span class="n">value</span>

    <span class="nd">@weight</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">weight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">c_float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_set_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when setting Tr weight value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">next_state</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_next_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">next_state</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when reading Tr ilabel value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">next_state</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@next_state</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">next_state</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">next_state</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="n">next_state</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">(</span><span class="n">next_state</span><span class="p">)</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_set_next_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">next_state</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when setting Tr next_state value&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Tr</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ilabel</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">ilabel</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">olabel</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">olabel</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">weight</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">weight</span>
            <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">next_state</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">next_state</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;Tr ilabel=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ilabel</span><span class="si">}</span><span class="s2">, olabel=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">olabel</span><span class="si">}</span><span class="s2">, weight=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">weight</span><span class="si">}</span><span class="s2">, next_state=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">next_state</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">tr_delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.tr.Tr-attributes">Attributes</h7>


<h7 id="rustfst.tr.Tr-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.tr.Tr.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">ilabel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">olabel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">nextstate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Create a new transition.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ilabel</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td><p>The input label.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>olabel</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td><p>The outpit label.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>The transition's weight</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>nextstate</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[int]</code>
          </td>
          <td><p>The destination state for the transition.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/tr.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">ilabel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">olabel</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">nextstate</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create a new transition.</span>

<span class="sd">    Args:</span>
<span class="sd">        ilabel: The input label.</span>
<span class="sd">        olabel: The outpit label.</span>
<span class="sd">        weight: The transition&#39;s weight</span>
<span class="sd">        nextstate: The destination state for the transition.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">ilabel</span> <span class="ow">and</span> <span class="n">olabel</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">nextstate</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">ilabel</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

        <span class="n">ptr</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">tr_new</span><span class="p">(</span>
            <span class="n">c_size_t</span><span class="p">(</span><span class="n">ilabel</span><span class="p">),</span>
            <span class="n">c_size_t</span><span class="p">(</span><span class="n">olabel</span><span class="p">),</span>
            <span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">),</span>
            <span class="n">c_size_t</span><span class="p">(</span><span class="n">nextstate</span><span class="p">),</span>
            <span class="n">byref</span><span class="p">(</span><span class="n">ptr</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating the Tr struct&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">ptr</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>









  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.tr.Tr.__repr__">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>repr</strong>() &lt;==&gt; repr(x)</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/tr.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;Tr ilabel=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">ilabel</span><span class="si">}</span><span class="s2">, olabel=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">olabel</span><span class="si">}</span><span class="s2">, weight=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">weight</span><span class="si">}</span><span class="s2">, next_state=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">next_state</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>


<h5 id="rustfst.tr-functions">Functions</h5>



  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.trs">
        <code>trs</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.trs-attributes">Attributes</h5>
<h5 id="rustfst.trs-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.trs.Trs">
          <code>Trs</code>



</h6>


    <div class="doc doc-contents ">


      <p>Structure representing list of transitions.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/trs.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Trs</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Structure representing list of transitions.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Trs</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Create an empty list of transitions.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">ptr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">()</span>
            <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_new</span><span class="p">(</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">))</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating the Trs struct&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">ptr</span>

    <span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Add a new transition to the list.</span>
<span class="sd">        Args:</span>
<span class="sd">            tr: The transition to add.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">tr</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when adding new transition&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tr</span><span class="p">:</span>
        <span class="n">removed_tr</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">removed_tr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when removing transition at index: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span>
            <span class="n">index</span>
        <span class="p">)</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">Tr</span><span class="p">(</span><span class="n">removed_tr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compute the number of transitions in the list.</span>
<span class="sd">        Returns:</span>
<span class="sd">            The number of transitions.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num_trs</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">num_trs</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`len` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_trs</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">shallow_clone</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Trs</span><span class="p">:</span>
        <span class="n">new_trs_ptr</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_shallow_clone</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">new_trs_ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when cloning Trs&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">Trs</span><span class="p">(</span><span class="n">new_trs_ptr</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_display</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">string</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when displaying Trs&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">string_at</span><span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.trs.Trs-attributes">Attributes</h7>


<h7 id="rustfst.trs.Trs-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.trs.Trs.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">ptr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Trs</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Create an empty list of transitions.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/trs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Trs</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create an empty list of transitions.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">ptr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_new</span><span class="p">(</span><span class="n">byref</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating the Trs struct&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">ptr</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.trs.Trs.push">
<code class="highlight language-python"><span class="n">push</span><span class="p">(</span><span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Add a new transition to the list.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>tr</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.tr.Tr" href="tr/#rustfst.tr.Tr">Tr</a></code>
          </td>
          <td><p>The transition to add.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/trs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">push</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Add a new transition to the list.</span>
<span class="sd">    Args:</span>
<span class="sd">        tr: The transition to add.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">exit_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_push</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">tr</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when adding new transition&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">exit_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.trs.Trs.len">
<code class="highlight language-python"><span class="nb">len</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Compute the number of transitions in the list.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td><p>The number of transitions.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/trs.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the number of transitions in the list.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The number of transitions.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">num_trs</span> <span class="o">=</span> <span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_vec_len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">byref</span><span class="p">(</span><span class="n">num_trs</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`len` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_trs</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>








  </div>

    </div>

  </div>


<h5 id="rustfst.trs-functions">Functions</h5>



  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.iterators">
        <code>iterators</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.iterators-attributes">Attributes</h5>
<h5 id="rustfst.iterators-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.iterators.TrsIterator">
          <code>TrsIterator</code>



</h6>


    <div class="doc doc-contents ">


      <p>TrsIterator(fst, state)
  This class is used for iterating over the trs leaving some state of a FST.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/iterators.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">TrsIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    TrsIterator(fst, state)</span>
<span class="sd">      This class is used for iterating over the trs leaving some state of a FST.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fst</span><span class="p">:</span> <span class="n">Fst</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">fst</span>  <span class="c1"># reference fst to prolong its lifetime (prevent early gc)</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="n">iter_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_new</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">iter_ptr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`__init__` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">iter_ptr</span>

    <span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        done(self)</span>
<span class="sd">            Indicates whether the iterator is exhausted or not.</span>
<span class="sd">            Returns:</span>
<span class="sd">              True if the iterator is exhausted, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tr</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;x.next() -&gt; the next value, or raise StopIteration&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">done</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>

        <span class="n">tr_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`next` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tr_ptr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">Tr</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        reset(self)</span>
<span class="sd">            Resets the iterator to the initial position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`reset` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TrsIterator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;x.__iter__() &lt;==&gt; iter(x)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;TrsIterator at 0x</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.iterators.TrsIterator-attributes">Attributes</h7>



<h7 id="rustfst.iterators.TrsIterator-functions">Functions</h7>


  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.TrsIterator.done">
<code class="highlight language-python"><span class="n">done</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>done(self)
    Indicates whether the iterator is exhausted or not.
    Returns:
      True if the iterator is exhausted, False otherwise.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    done(self)</span>
<span class="sd">        Indicates whether the iterator is exhausted or not.</span>
<span class="sd">        Returns:</span>
<span class="sd">          True if the iterator is exhausted, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.TrsIterator.__next__">
<code class="highlight language-python"><span class="fm">__next__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tr</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.next() -&gt; the next value, or raise StopIteration</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tr</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;x.next() -&gt; the next value, or raise StopIteration&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">done</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">StopIteration</span>

    <span class="n">tr_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`next` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">tr_ptr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">Tr</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.TrsIterator.reset">
<code class="highlight language-python"><span class="n">reset</span><span class="p">()</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>reset(self)
    Resets the iterator to the initial position.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    reset(self)</span>
<span class="sd">        Resets the iterator to the initial position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">trs_iterator_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`reset` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.TrsIterator.__iter__">
<code class="highlight language-python"><span class="fm">__iter__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">TrsIterator</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>iter</strong>() &lt;==&gt; iter(x)</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TrsIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;x.__iter__() &lt;==&gt; iter(x)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.TrsIterator.__repr__">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>repr</strong>() &lt;==&gt; repr(x)</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;TrsIterator at 0x</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator">
          <code>MutableTrsIterator</code>



</h6>


    <div class="doc doc-contents ">


      <p>MutableTrsIterator(ifst, state)
  This class is used for iterating over the trs leaving some state of a FST,
  also permitting mutation of the current tr.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/iterators.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">MutableTrsIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    MutableTrsIterator(ifst, state)</span>
<span class="sd">      This class is used for iterating over the trs leaving some state of a FST,</span>
<span class="sd">      also permitting mutation of the current tr.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fst</span><span class="p">:</span> <span class="n">Fst</span><span class="p">,</span> <span class="n">state_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableTrsIterator</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">fst</span>  <span class="c1"># reference fst to prolong its lifetime (prevent early gc)</span>
        <span class="n">state_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state_id</span><span class="p">)</span>
        <span class="n">iter_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_new</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state_id</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">iter_ptr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`__init__` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">iter_ptr</span>

    <span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        done(self)</span>
<span class="sd">            Indicates whether the iterator is exhausted or not.</span>
<span class="sd">            Returns:</span>
<span class="sd">              True if the iterator is exhausted, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Advances the internal tr iterator.</span>
<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`next` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        reset(self)</span>
<span class="sd">            Resets the iterator to the initial position.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`reset`failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        set_value(self, tr)</span>
<span class="sd">            Replace the current tr with a new tr.</span>
<span class="sd">            Args:</span>
<span class="sd">              tr: The tr to replace the current tr with.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_set_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">tr</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`set_value` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tr</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        value(self)</span>
<span class="sd">            Returns the current tr.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">tr_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`value` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">tr_ptr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">Tr</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableTrsIterator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;x.__iter__() &lt;==&gt; iter(x)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;MutableTrsIterator at 0x</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.iterators.MutableTrsIterator-attributes">Attributes</h7>



<h7 id="rustfst.iterators.MutableTrsIterator-functions">Functions</h7>


  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator.done">
<code class="highlight language-python"><span class="n">done</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>done(self)
    Indicates whether the iterator is exhausted or not.
    Returns:
      True if the iterator is exhausted, False otherwise.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    done(self)</span>
<span class="sd">        Indicates whether the iterator is exhausted or not.</span>
<span class="sd">        Returns:</span>
<span class="sd">          True if the iterator is exhausted, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator.__next__">
<code class="highlight language-python"><span class="fm">__next__</span><span class="p">()</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Advances the internal tr iterator.
:return: None</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Advances the internal tr iterator.</span>
<span class="sd">    :return: None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`next` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator.reset">
<code class="highlight language-python"><span class="n">reset</span><span class="p">()</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>reset(self)
    Resets the iterator to the initial position.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    reset(self)</span>
<span class="sd">        Resets the iterator to the initial position.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_reset</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`reset`failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator.set_value">
<code class="highlight language-python"><span class="n">set_value</span><span class="p">(</span><span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>set_value(self, tr)
    Replace the current tr with a new tr.
    Args:
      tr: The tr to replace the current tr with.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    set_value(self, tr)</span>
<span class="sd">        Replace the current tr with a new tr.</span>
<span class="sd">        Args:</span>
<span class="sd">          tr: The tr to replace the current tr with.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_set_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">tr</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`set_value` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator.value">
<code class="highlight language-python"><span class="n">value</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tr</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>value(self)
    Returns the current tr.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Tr</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    value(self)</span>
<span class="sd">        Returns the current tr.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">tr_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">mut_trs_iterator_value</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`value` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">tr_ptr</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">Tr</span><span class="p">(</span><span class="n">tr_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator.__iter__">
<code class="highlight language-python"><span class="fm">__iter__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">MutableTrsIterator</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>iter</strong>() &lt;==&gt; iter(x)</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableTrsIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;x.__iter__() &lt;==&gt; iter(x)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.MutableTrsIterator.__repr__">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>repr</strong>() &lt;==&gt; repr(x)</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;MutableTrsIterator at 0x</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.iterators.StateIterator">
          <code>StateIterator</code>



</h6>


    <div class="doc doc-contents ">


      <p>StateIterator(fst)
  This class is used for iterating over the states in a FST.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/iterators.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">StateIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    StateIterator(fst)</span>
<span class="sd">      This class is used for iterating over the states in a FST.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fst</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StateIterator</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">fst</span>  <span class="c1"># reference fst to prolong its lifetime (prevent early gc)</span>
        <span class="n">iter_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">state_iterator_new</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">iter_ptr</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`__init__` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span> <span class="o">=</span> <span class="n">iter_ptr</span>

    <span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        done(self)</span>
<span class="sd">            Indicates whether the iterator is exhausted or not.</span>
<span class="sd">            Returns:</span>
<span class="sd">              True if the iterator is exhausted, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">state_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;x.next() -&gt; the next value, or raise StopIteration&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">done</span><span class="p">():</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>

        <span class="n">next_state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">state_iterator_next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">next_state</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`next` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">next_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">next_state</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StateIterator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;x.__iter__() &lt;==&gt; iter(x)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;StateIterator at 0x</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">state_iterator_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.iterators.StateIterator-attributes">Attributes</h7>



<h7 id="rustfst.iterators.StateIterator-functions">Functions</h7>


  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.StateIterator.done">
<code class="highlight language-python"><span class="n">done</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>done(self)
    Indicates whether the iterator is exhausted or not.
    Returns:
      True if the iterator is exhausted, False otherwise.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    done(self)</span>
<span class="sd">        Indicates whether the iterator is exhausted or not.</span>
<span class="sd">        Returns:</span>
<span class="sd">          True if the iterator is exhausted, False otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">done</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">state_iterator_done</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">done</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`done` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">done</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.StateIterator.__next__">
<code class="highlight language-python"><span class="fm">__next__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.next() -&gt; the next value, or raise StopIteration</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;x.next() -&gt; the next value, or raise StopIteration&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">done</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">StopIteration</span>

    <span class="n">next_state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">state_iterator_next</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">next_state</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;`next` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">next_state</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">next_state</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.StateIterator.__iter__">
<code class="highlight language-python"><span class="fm">__iter__</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">StateIterator</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>iter</strong>() &lt;==&gt; iter(x)</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StateIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;x.__iter__() &lt;==&gt; iter(x)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.iterators.StateIterator.__repr__">
<code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>repr</strong>() &lt;==&gt; repr(x)</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/iterators.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;x.__repr__() &lt;==&gt; repr(x)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;StateIterator at 0x</span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">:</span><span class="s2">x</span><span class="si">}</span><span class="s2">&gt;&quot;</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>


<h5 id="rustfst.iterators-functions">Functions</h5>



  </div>

    </div>

  </div>




  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.fst">
        <code>fst</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.fst-attributes">Attributes</h5>
<h5 id="rustfst.fst-classes">Classes</h5>

  <div class="doc doc-object doc-class">



<h6 class="doc doc-heading" id="rustfst.fst.Fst">
          <code>Fst</code>



</h6>


    <div class="doc doc-contents ">


      <p>This class is the base class for every Fst objects.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 13</span>
<span class="normal"> 14</span>
<span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">Fst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class is the base class for every Fst objects.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="p">,</span> <span class="n">isymt</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">osymt</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ptr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="n">isymt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="n">osymt</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the start state.</span>
<span class="sd">        Returns :</span>
<span class="sd">            The start state or None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">start</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">start</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting start state&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the final weight of a state.</span>
<span class="sd">        Args:</span>
<span class="sd">          state: The integer index of a state.</span>
<span class="sd">        Returns:</span>
<span class="sd">          The final Weight of that state.</span>
<span class="sd">        Raises:</span>
<span class="sd">          Exception: If State index out of range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_final_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">weight</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting final weight&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="n">weight</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span> <span class="nf">num_trs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of trs leaving a state.</span>
<span class="sd">        Args:</span>
<span class="sd">          state: The integer index of a state.</span>
<span class="sd">        Returns:</span>
<span class="sd">          The number of trs leaving that state.</span>
<span class="sd">        Raises:</span>
<span class="sd">          Exception: If State index out of range.</span>
<span class="sd">        See also: `num_states`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num_trs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_num_trs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_trs</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting number of trs&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_trs</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">trs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TrsIterator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an iterator over trs leaving the specified state.</span>
<span class="sd">        Args:</span>
<span class="sd">          state: The source state ID.</span>
<span class="sd">        Returns:</span>
<span class="sd">          An TrsIterator.</span>
<span class="sd">        See also: `mutable_trs`, `states`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">TrsIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if a state is final</span>
<span class="sd">        Args :</span>
<span class="sd">            state_id:</span>
<span class="sd">        Returns :</span>
<span class="sd">            bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state_id</span><span class="p">)</span>
        <span class="n">is_final</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_is_final</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_final</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking if state is final&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_final</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">is_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if a state is a start state.</span>
<span class="sd">        Args :</span>
<span class="sd">            state_id: Integer index of the state.</span>
<span class="sd">        Returns :</span>
<span class="sd">            bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state_id</span><span class="p">)</span>
        <span class="n">is_start</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_is_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_start</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking if state is final&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_start</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Fst&#39;s input symbol table, or None if none is present.</span>
<span class="sd">        Returns :</span>
<span class="sd">            The Fst&#39;s input symbol table, or None if none is present.</span>
<span class="sd">        See also: `output_symbols`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting input symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">table</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the Fst&#39;s output symbol table, or None if none is present.</span>
<span class="sd">        Returns :</span>
<span class="sd">            The Fst&#39;s output symbol table, or None if none is present.</span>
<span class="sd">        See also: `input_symbols`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting output symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">table</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">set_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the input symbol table.</span>
<span class="sd">        Passing None as a value will delete the input symbol table.</span>
<span class="sd">        Args:</span>
<span class="sd">          syms: A SymbolTable.</span>
<span class="sd">        Returns:</span>
<span class="sd">          self.</span>
<span class="sd">        See also: `set_output_symbols`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">syms</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_unset_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error unsetting input symbols&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
            <span class="c1"># detach symbol table from fst</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">syms</span><span class="o">.</span><span class="n">ptr</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_set_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting input symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="c1"># attach symbol table to fst (prevent early gc of syms)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="n">syms</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the output symbol table.</span>
<span class="sd">        Passing None as a value will delete the output symbol table.</span>
<span class="sd">        Args:</span>
<span class="sd">          syms: A SymbolTable.</span>
<span class="sd">        Returns:</span>
<span class="sd">          self.</span>
<span class="sd">        See also: `set_input_symbols`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">syms</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_unset_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error unsetting output symbols&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
            <span class="c1"># detach symbol table from fst</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="k">return</span> <span class="bp">self</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">syms</span><span class="o">.</span><span class="n">ptr</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_set_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting output symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="c1"># attach symbol table to fst (prevent early gc of syms)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="n">syms</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbols</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">          symbols: List[int]</span>
<span class="sd">        Returns:</span>
<span class="sd">          self.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">symbols_ptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))(</span><span class="o">*</span><span class="n">symbols</span><span class="p">)</span>
        <span class="n">symbols_len</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_remove_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbols_ptr</span><span class="p">,</span> <span class="n">symbols_len</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during remove_input_symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">remove_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbols</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">          symbols: List[int]</span>
<span class="sd">        Returns:</span>
<span class="sd">          self.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">symbols_ptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))(</span><span class="o">*</span><span class="n">symbols</span><span class="p">)</span>
        <span class="n">symbols_len</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_remove_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbols_ptr</span><span class="p">,</span> <span class="n">symbols_len</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during remove_outout_symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">Fst</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;x.__eq__(y) &lt;==&gt; x==y&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&lt;rustfst.fst.Fst at </span><span class="si">{</span><span class="nb">id</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="si">}</span><span class="s2">&gt;&quot;</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">lib</span><span class="o">.</span><span class="n">fst_destroy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h7 id="rustfst.fst.Fst-attributes">Attributes</h7>




<h7 id="rustfst.fst.Fst-functions">Functions</h7>


  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.start">
<code class="highlight language-python"><span class="n">start</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the start state.</p>

<details class="returns-">
  <summary>Returns</summary>
  <p>The start state or None.</p>
</details>
        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the start state.</span>
<span class="sd">    Returns :</span>
<span class="sd">        The start state or None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">start</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting start state&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">start</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">start</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.final">
<code class="highlight language-python"><span class="n">final</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the final weight of a state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer index of a state.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>The final Weight of that state.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td><p>If State index out of range.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the final weight of a state.</span>
<span class="sd">    Args:</span>
<span class="sd">      state: The integer index of a state.</span>
<span class="sd">    Returns:</span>
<span class="sd">      The final Weight of that state.</span>
<span class="sd">    Raises:</span>
<span class="sd">      Exception: If State index out of range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_final_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">weight</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting final weight&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">weight</span><span class="o">.</span><span class="n">value</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.num_trs">
<code class="highlight language-python"><span class="n">num_trs</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the number of trs leaving a state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer index of a state.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td><p>The number of trs leaving that state.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>Exception</code>
          </td>
          <td><p>If State index out of range.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>num_states</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">num_trs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the number of trs leaving a state.</span>
<span class="sd">    Args:</span>
<span class="sd">      state: The integer index of a state.</span>
<span class="sd">    Returns:</span>
<span class="sd">      The number of trs leaving that state.</span>
<span class="sd">    Raises:</span>
<span class="sd">      Exception: If State index out of range.</span>
<span class="sd">    See also: `num_states`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">num_trs</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_num_trs</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_trs</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting number of trs&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_trs</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.trs">
<code class="highlight language-python"><span class="n">trs</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TrsIterator</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns an iterator over trs leaving the specified state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The source state ID.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.iterators.TrsIterator" href="iterators/#rustfst.iterators.TrsIterator">TrsIterator</a></code>
          </td>
          <td><p>An TrsIterator.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>mutable_trs</code>, <code>states</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">trs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">TrsIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns an iterator over trs leaving the specified state.</span>
<span class="sd">    Args:</span>
<span class="sd">      state: The source state ID.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An TrsIterator.</span>
<span class="sd">    See also: `mutable_trs`, `states`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">TrsIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.is_final">
<code class="highlight language-python"><span class="n">is_final</span><span class="p">(</span><span class="n">state_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Check if a state is final</p>

<details class="args-">
  <summary>Args</summary>
  <p>state_id:</p>
</details>
<details class="returns-">
  <summary>Returns</summary>
  <p>bool</p>
</details>
        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if a state is final</span>
<span class="sd">    Args :</span>
<span class="sd">        state_id:</span>
<span class="sd">    Returns :</span>
<span class="sd">        bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state_id</span><span class="p">)</span>
    <span class="n">is_final</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_is_final</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_final</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking if state is final&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_final</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.is_start">
<code class="highlight language-python"><span class="n">is_start</span><span class="p">(</span><span class="n">state_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Check if a state is a start state.</p>

<details class="args-">
  <summary>Args</summary>
  <p>state_id: Integer index of the state.</p>
</details>
<details class="returns-">
  <summary>Returns</summary>
  <p>bool</p>
</details>
        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">is_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if a state is a start state.</span>
<span class="sd">    Args :</span>
<span class="sd">        state_id: Integer index of the state.</span>
<span class="sd">    Returns :</span>
<span class="sd">        bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state_id</span><span class="p">)</span>
    <span class="n">is_start</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_is_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_start</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking if state is final&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_start</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.input_symbols">
<code class="highlight language-python"><span class="n">input_symbols</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the Fst's input symbol table, or None if none is present.</p>

<details class="returns-">
  <summary>Returns</summary>
  <p>The Fst's input symbol table, or None if none is present.</p>
</details>      <p>See also: <code>output_symbols</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the Fst&#39;s input symbol table, or None if none is present.</span>
<span class="sd">    Returns :</span>
<span class="sd">        The Fst&#39;s input symbol table, or None if none is present.</span>
<span class="sd">    See also: `output_symbols`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting input symbols&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">table</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.output_symbols">
<code class="highlight language-python"><span class="n">output_symbols</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Returns the Fst's output symbol table, or None if none is present.</p>

<details class="returns-">
  <summary>Returns</summary>
  <p>The Fst's output symbol table, or None if none is present.</p>
</details>      <p>See also: <code>input_symbols</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the Fst&#39;s output symbol table, or None if none is present.</span>
<span class="sd">    Returns :</span>
<span class="sd">        The Fst&#39;s output symbol table, or None if none is present.</span>
<span class="sd">    See also: `input_symbols`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting output symbols&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">table</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">table</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.set_input_symbols">
<code class="highlight language-python"><span class="n">set_input_symbols</span><span class="p">(</span><span class="n">syms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Sets the input symbol table.
Passing None as a value will delete the input symbol table.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>syms</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>A SymbolTable.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>self.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>set_output_symbols</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the input symbol table.</span>
<span class="sd">    Passing None as a value will delete the input symbol table.</span>
<span class="sd">    Args:</span>
<span class="sd">      syms: A SymbolTable.</span>
<span class="sd">    Returns:</span>
<span class="sd">      self.</span>
<span class="sd">    See also: `set_output_symbols`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">syms</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_unset_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error unsetting input symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="c1"># detach symbol table from fst</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">syms</span><span class="o">.</span><span class="n">ptr</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_set_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting input symbols&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="c1"># attach symbol table to fst (prevent early gc of syms)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="n">syms</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.set_output_symbols">
<code class="highlight language-python"><span class="n">set_output_symbols</span><span class="p">(</span><span class="n">syms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Sets the output symbol table.
Passing None as a value will delete the output symbol table.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>syms</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>A SymbolTable.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>self.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>set_input_symbols</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">syms</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the output symbol table.</span>
<span class="sd">    Passing None as a value will delete the output symbol table.</span>
<span class="sd">    Args:</span>
<span class="sd">      syms: A SymbolTable.</span>
<span class="sd">    Returns:</span>
<span class="sd">      self.</span>
<span class="sd">    See also: `set_input_symbols`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">syms</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_unset_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error unsetting output symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="c1"># detach symbol table from fst</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="n">table</span> <span class="o">=</span> <span class="n">syms</span><span class="o">.</span><span class="n">ptr</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_set_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting output symbols&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="c1"># attach symbol table to fst (prevent early gc of syms)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="n">syms</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.remove_input_symbols">
<code class="highlight language-python"><span class="n">remove_input_symbols</span><span class="p">(</span><span class="n">symbols</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span></code>


</h8>


    <div class="doc doc-contents ">


  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>symbols</code></td>
          <td>
                <code>list[int]</code>
          </td>
          <td><p>List[int]</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>self.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbols</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">      symbols: List[int]</span>
<span class="sd">    Returns:</span>
<span class="sd">      self.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">symbols_ptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))(</span><span class="o">*</span><span class="n">symbols</span><span class="p">)</span>
    <span class="n">symbols_len</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_remove_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbols_ptr</span><span class="p">,</span> <span class="n">symbols_len</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during remove_input_symbols&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.remove_output_symbols">
<code class="highlight language-python"><span class="n">remove_output_symbols</span><span class="p">(</span><span class="n">symbols</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span></code>


</h8>


    <div class="doc doc-contents ">


  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>symbols</code></td>
          <td>
                <code>list[int]</code>
          </td>
          <td><p>List[int]</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>self.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">remove_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbols</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Args:</span>
<span class="sd">      symbols: List[int]</span>
<span class="sd">    Returns:</span>
<span class="sd">      self.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">symbols_ptr</span> <span class="o">=</span> <span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_int</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))(</span><span class="o">*</span><span class="n">symbols</span><span class="p">)</span>
    <span class="n">symbols_len</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">))</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_remove_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">symbols_ptr</span><span class="p">,</span> <span class="n">symbols_len</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during remove_outout_symbols&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.fst.Fst.__eq__">
<code class="highlight language-python"><span class="fm">__eq__</span><span class="p">(</span><span class="n">y</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>x.<strong>eq</strong>(y) &lt;==&gt; x==y</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">Fst</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;x.__eq__(y) &lt;==&gt; x==y&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>







  </div>

    </div>

  </div>


<h5 id="rustfst.fst-functions">Functions</h5>
<h5 id="rustfst.fst-modules">Modules</h5>

  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.fst.vector_fst">
        <code>vector_fst</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.fst.vector_fst-attributes">Attributes</h7>
<h7 id="rustfst.fst.vector_fst-classes">Classes</h7>

  <div class="doc doc-object doc-class">



<h8 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst">
          <code>VectorFst</code>



</h8>


    <div class="doc doc-contents ">
        <p class="doc doc-class-bases">
          Bases: <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code></p>




          <details class="quote">
            <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span>
<span class="normal">489</span>
<span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span>
<span class="normal">526</span>
<span class="normal">527</span>
<span class="normal">528</span>
<span class="normal">529</span>
<span class="normal">530</span>
<span class="normal">531</span>
<span class="normal">532</span>
<span class="normal">533</span>
<span class="normal">534</span>
<span class="normal">535</span>
<span class="normal">536</span>
<span class="normal">537</span>
<span class="normal">538</span>
<span class="normal">539</span>
<span class="normal">540</span>
<span class="normal">541</span>
<span class="normal">542</span>
<span class="normal">543</span>
<span class="normal">544</span>
<span class="normal">545</span>
<span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">VectorFst</span><span class="p">(</span><span class="n">Fst</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates an empty VectorFst.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">ptr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ptr</span>

            <span class="c1"># Check if isymt inside</span>
            <span class="n">isymt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">isymt</span><span class="p">))</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting input symbols&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">isymt</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">isymt</span><span class="p">)</span>

            <span class="c1"># Check if osymt inside</span>
            <span class="n">osymt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">osymt</span><span class="p">))</span>
            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting input symbols&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">osymt</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">osymt</span><span class="p">)</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
            <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_new</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst_ptr</span><span class="p">))</span>

            <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating the Fst struct&quot;</span>
            <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">fst_ptr</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_tr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a new tr to the FST and return self. Note the tr should be considered</span>
<span class="sd">        consumed and is not safe to use it after.</span>
<span class="sd">        Args:</span>
<span class="sd">          state: The integer index of the source state.</span>
<span class="sd">          tr: The tr to add.</span>
<span class="sd">        Returns:</span>
<span class="sd">          self.</span>
<span class="sd">        Raises:</span>
<span class="sd">          SnipsFstException: If State index out of range.</span>
<span class="sd">        See also: `add_state`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_add_tr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">),</span> <span class="n">tr</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during `add_tr`&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">add_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Adds a new state to the FST and returns the state ID.</span>
<span class="sd">        Returns:</span>
<span class="sd">          The integer index of the new state.</span>
<span class="sd">        See also: `add_tr`, `set_start`, `set_final`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_add_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">state_id</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during `add_state`&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">state_id</span><span class="o">.</span><span class="n">value</span>

    <span class="k">def</span> <span class="nf">set_final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the final weight for a state.</span>
<span class="sd">        Args:</span>
<span class="sd">          state: The integer index of a state.</span>
<span class="sd">          weight: A float indicating the desired final weight; if</span>
<span class="sd">              omitted, it is set to semiring One.</span>
<span class="sd">        Raises:</span>
<span class="sd">          ValueError: State index out of range or Incompatible or invalid weight.</span>
<span class="sd">        See also: `set_start`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

        <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">)</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_set_final</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting final state&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">unset_final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Unset the final weight of a state. As a result, the state is no longer final.</span>
<span class="sd">        Args:</span>
<span class="sd">            state: The integer index of a state</span>
<span class="sd">        Raises:</span>
<span class="sd">          ValueError: State index out of range.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_del_final_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error unsetting final state&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mutable_trs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableTrsIterator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns a mutable iterator over trs leaving the specified state.</span>
<span class="sd">        Args:</span>
<span class="sd">          state: The source state ID.</span>
<span class="sd">        Returns:</span>
<span class="sd">          A MutableTrsIterator.</span>
<span class="sd">        See also: `trs`, `states`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">MutableTrsIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delete_states</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete all the states</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_delete_states</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error deleting states&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">num_states</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the number of states.</span>
<span class="sd">        Returns:</span>
<span class="sd">            Number of states present in the Fst.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">num_states</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_num_states</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_states</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting number of states&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_states</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets a state to be the initial state state.</span>
<span class="sd">        Args:</span>
<span class="sd">          state: The integer index of a state.</span>
<span class="sd">        Raises:</span>
<span class="sd">          ValueError: If State index out of range.</span>
<span class="sd">        See also: `set_final`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">state_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_set_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state_id</span><span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting start state&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">states</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StateIterator</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns an iterator over all states in the FST.</span>
<span class="sd">        Returns:</span>
<span class="sd">          A StateIterator object for the FST.</span>
<span class="sd">        See also: `trs`, `mutable_trs`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">StateIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">relabel_tables</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="o">*</span><span class="p">,</span>
        <span class="n">old_isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">new_isymbols</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
        <span class="n">attach_new_isymbols</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
        <span class="n">old_osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">new_osymbols</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
        <span class="n">attach_new_osymbols</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Destructively relabel the Fst with new Symbol Tables.</span>

<span class="sd">        Relabelling refers to the operation where all the labels of an Fst are mapped to the equivalent labels</span>
<span class="sd">        of a new `SymbolTable`.</span>
<span class="sd">        If the Fst has a label `1` corresponding to the symbol &quot;alpha&quot; in the current symbol table and &quot;alpha&quot;</span>
<span class="sd">        is mapped to 4 in a new SymbolTable, then all the 1 are going to be mapped to 4.</span>

<span class="sd">        Args:</span>
<span class="sd">            old_isymbols: Input `SymbolTable` used to build the Fst. If `None`, uses the Input `SymbolTable` attached to the Fst.</span>
<span class="sd">            new_isymbols: New Input `SymbolTable` to use.</span>
<span class="sd">            attach_new_isymbols: Whether to attach the new Input `SymbolTable` to the Fst. If False, the resulting Fst won&#39;t contain any attached Input `SymbolTable`.</span>
<span class="sd">            old_osymbols: Output `SymbolTable` used to build the Fst. If `None`, uses the Output `SymbolTable` attached to the Fst</span>
<span class="sd">            new_osymbols: New Output `SymbolTable` to use.</span>
<span class="sd">            attach_new_osymbols: Whether to attach the new Output `SymbolTable` to the Fst. If False, the resulting Fst won&#39;t contain any attached Output `SymbolTable`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            self</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">old_isymbols_ptr</span> <span class="o">=</span> <span class="n">old_isymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">old_isymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">old_osymbols_ptr</span> <span class="o">=</span> <span class="n">old_osymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">old_osymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_relabel_tables</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
            <span class="n">old_isymbols_ptr</span><span class="p">,</span>
            <span class="n">new_isymbols</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">attach_new_isymbols</span><span class="p">),</span>
            <span class="n">old_osymbols_ptr</span><span class="p">,</span>
            <span class="n">new_osymbols</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">attach_new_osymbols</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Relabel tables failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="c1"># Necessary because the symts are cached on the python side.</span>
        <span class="k">if</span> <span class="n">attach_new_isymbols</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="n">new_isymbols</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">attach_new_osymbols</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="n">new_osymbols</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">drawing_config</span><span class="p">:</span> <span class="n">DrawingConfig</span> <span class="o">=</span> <span class="n">DrawingConfig</span><span class="p">(),</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes out the FST in Graphviz text format.</span>
<span class="sd">        This method writes out the FST in the dot graph description language. The</span>
<span class="sd">        graph can be rendered using the `dot` executable provided by Graphviz.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the output dot/Graphviz file.</span>
<span class="sd">          isymbols: An optional symbol table used to label input symbols.</span>
<span class="sd">          osymbols: An optional symbol table used to label output symbols.</span>
<span class="sd">          drawing_config: Drawing configuration to use.</span>
<span class="sd">        See also: `text`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">isymbols_ptr</span> <span class="o">=</span> <span class="n">isymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">isymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">osymbols_ptr</span> <span class="o">=</span> <span class="n">osymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">osymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span><span class="p">)</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_draw</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
            <span class="n">isymbols_ptr</span><span class="p">,</span>
            <span class="n">osymbols_ptr</span><span class="p">,</span>
            <span class="n">filename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
            <span class="n">drawing_config</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">acceptor</span><span class="p">),</span>
            <span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">portrait</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">vertical</span><span class="p">),</span>
            <span class="n">ranksep</span><span class="p">,</span>
            <span class="n">nodesep</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">fontsize</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">show_weight_one</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">print_weight</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;fst draw failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read a Fst at a given path.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the input file.</span>
<span class="sd">        Returns:</span>
<span class="sd">          An Fst.</span>
<span class="sd">        Raises:</span>
<span class="sd">          ValueError: Read failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_from_path</span><span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">fst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Serializes FST to a file.</span>
<span class="sd">        This method writes the FST to a file in vector binary format.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the output file.</span>
<span class="sd">        Raises:</span>
<span class="sd">          ValueError: Write failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_write_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load a `VectorFst` from a sequence of bytes.</span>
<span class="sd">        Args:</span>
<span class="sd">            data: Sequence of bytes.</span>

<span class="sd">        Returns:</span>
<span class="sd">            Loaded `VectorFst`.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

        <span class="c1"># Define a temporary struct to hold the bytes array</span>
        <span class="k">class</span> <span class="nc">BytesArray</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
            <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;data_ptr&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">)]</span>

        <span class="n">c_bytes</span> <span class="o">=</span> <span class="n">BytesArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_from_bytes</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">c_bytes</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst_ptr</span><span class="p">))</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`from_bytes` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">fst_ptr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turns the `VectorFst` into bytes.</span>
<span class="sd">        Returns:</span>
<span class="sd">            Sequence of bytes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Define a temporary struct to hold the bytes array</span>
        <span class="k">class</span> <span class="nc">BytesArray</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
            <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;data_ptr&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">)]</span>

        <span class="n">bytes_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">BytesArray</span><span class="p">())</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">bytes_ptr</span><span class="p">))</span>
        <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`to_bytes` failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span>
            <span class="p">[</span>
                <span class="n">ctypes</span><span class="o">.</span><span class="n">c_ubyte</span><span class="o">.</span><span class="n">from_address</span><span class="p">(</span><span class="n">bytes_ptr</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">data_ptr</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">bytes_ptr</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
            <span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if this Fst is equal to the other.</span>
<span class="sd">        Args:</span>
<span class="sd">            other: Fst instance</span>
<span class="sd">        Returns:</span>
<span class="sd">             Whether both Fst are equals.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_equal</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_equals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_equal</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking equality&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_equal</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">            A copy of the Fst.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cloned_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error copying fst&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">compose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.compose</span> <span class="kn">import</span> <span class="n">compose</span><span class="p">,</span> <span class="n">compose_with_config</span>

        <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">compose_with_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">compose</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">concat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Compute Fst Concatenation of this Fst with another Fst. Returning the resulting Fst.</span>
<span class="sd">        Args:</span>
<span class="sd">            other: Fst to concatenate with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The concatenated Fst.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.concat</span> <span class="kn">import</span> <span class="n">concat</span>

        <span class="k">return</span> <span class="n">concat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This operation trims an Fst, removing states and trs that are not on successful paths.</span>

<span class="sd">        Examples :</span>

<span class="sd">        - Input</span>

<span class="sd">        ![connect_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_in.svg?sanitize=true)</span>

<span class="sd">        - Output</span>

<span class="sd">        ![connect_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_out.svg?sanitize=true)</span>

<span class="sd">        Returns:</span>
<span class="sd">            self</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.connect</span> <span class="kn">import</span> <span class="n">connect</span>

        <span class="k">return</span> <span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">top_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This operation topologically sorts its input. When sorted, all transitions are from</span>
<span class="sd">        lower to higher state IDs.</span>

<span class="sd">        Examples :</span>

<span class="sd">        - Input</span>

<span class="sd">        ![topsort_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_in.svg?sanitize=true)</span>

<span class="sd">        - Output</span>

<span class="sd">        ![topsort_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_out.svg?sanitize=true)</span>

<span class="sd">        Returns:</span>
<span class="sd">            Equivalent top sorted Fst. Modification also happens in-place.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.top_sort</span> <span class="kn">import</span> <span class="n">top_sort</span>

        <span class="k">return</span> <span class="n">top_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">determinize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.determinize</span> <span class="kn">import</span> <span class="n">determinize</span><span class="p">,</span> <span class="n">determinize_with_config</span>

        <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">determinize_with_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">determinize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proj_type</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.project</span> <span class="kn">import</span> <span class="n">project</span><span class="p">,</span> <span class="n">ProjectType</span>

        <span class="k">if</span> <span class="n">proj_type</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proj_type</span><span class="p">)</span>
        <span class="n">proj_type</span> <span class="o">=</span> <span class="n">ProjectType</span><span class="o">.</span><span class="n">PROJECT_INPUT</span>
        <span class="k">return</span> <span class="n">project</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">proj_type</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">root_label</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">fst_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[(</span><span class="nb">int</span><span class="p">,</span> <span class="n">VectorFst</span><span class="p">)],</span>
        <span class="n">epsilon_on_replace</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.replace</span> <span class="kn">import</span> <span class="n">replace</span>

        <span class="n">complete_fst_list</span> <span class="o">=</span> <span class="p">[(</span><span class="n">root_label</span><span class="p">,</span> <span class="bp">self</span><span class="p">)]</span> <span class="o">+</span> <span class="n">fst_list</span>
        <span class="k">return</span> <span class="n">replace</span><span class="p">(</span><span class="n">root_label</span><span class="p">,</span> <span class="n">complete_fst_list</span><span class="p">,</span> <span class="n">epsilon_on_replace</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.reverse</span> <span class="kn">import</span> <span class="n">reverse</span>

        <span class="k">return</span> <span class="n">reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">rm_epsilon</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.rm_epsilon</span> <span class="kn">import</span> <span class="n">rm_epsilon</span>

        <span class="n">rm_epsilon</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">shortest_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.shortest_path</span> <span class="kn">import</span> <span class="p">(</span>
            <span class="n">shortestpath</span><span class="p">,</span>
            <span class="n">shortestpath_with_config</span><span class="p">,</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="n">config</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">shortestpath_with_config</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">shortestpath</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.union</span> <span class="kn">import</span> <span class="n">union</span>

        <span class="k">return</span> <span class="n">union</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">optimize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.optimize</span> <span class="kn">import</span> <span class="n">optimize</span>

        <span class="n">optimize</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tr_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ilabel_cmp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.tr_sort</span> <span class="kn">import</span> <span class="n">tr_sort</span>

        <span class="n">tr_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ilabel_cmp</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">tr_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.tr_unique</span> <span class="kn">import</span> <span class="n">tr_unique</span>

        <span class="n">tr_unique</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">isomorphic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="kn">from</span> <span class="nn">rustfst.algorithms.isomorphic</span> <span class="kn">import</span> <span class="n">isomorphic</span>

        <span class="k">return</span> <span class="n">isomorphic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `fst_1 + fst_2` is a shortcut to perform the concatenation of `fst_1` and `fst_2`.</span>
<span class="sd">        Args:</span>
<span class="sd">            other: VectorFst to concatenate after the current Fst.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The concatenated Fst.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `fst_1 * fst_2` is a shortcut to perform the composition of `fst_1` and `fst_2`.</span>
<span class="sd">        Args:</span>
<span class="sd">            other: VectorFst to compose with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The composed Fst.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        `fst_1 | fst_2` is a shortcut to perform the union of `fst_1` and `fst_2`.</span>
<span class="sd">        Args:</span>
<span class="sd">            other: VectorFst to perform the union with.</span>

<span class="sd">        Returns:</span>
<span class="sd">            The resulting Fst.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_display</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error displaying VectorFst&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">string_at</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">string_paths</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StringPathsIterator</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">StringPathsIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h9 id="rustfst.fst.vector_fst.VectorFst-attributes">Attributes</h9>




<h9 id="rustfst.fst.vector_fst.VectorFst-functions">Functions</h9>

  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">ptr</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Creates an empty VectorFst.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an empty VectorFst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">ptr</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ptr</span>

        <span class="c1"># Check if isymt inside</span>
        <span class="n">isymt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_input_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">isymt</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting input symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">isymt</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">isymt</span><span class="p">)</span>

        <span class="c1"># Check if osymt inside</span>
        <span class="n">osymt</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_output_symbols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">osymt</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting input symbols&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">osymt</span><span class="o">.</span><span class="n">contents</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="n">SymbolTable</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">osymt</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="n">fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_new</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst_ptr</span><span class="p">))</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Something went wrong when creating the Fst struct&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">fst_ptr</span>

    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.add_tr">
<code class="highlight language-python"><span class="n">add_tr</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Fst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Adds a new tr to the FST and return self. Note the tr should be considered
consumed and is not safe to use it after.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer index of the source state.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>tr</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.tr.Tr" href="tr/#rustfst.tr.Tr">Tr</a></code>
          </td>
          <td><p>The tr to add.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>self.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>SnipsFstException</code>
          </td>
          <td><p>If State index out of range.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>add_state</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_tr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tr</span><span class="p">:</span> <span class="n">Tr</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Fst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a new tr to the FST and return self. Note the tr should be considered</span>
<span class="sd">    consumed and is not safe to use it after.</span>
<span class="sd">    Args:</span>
<span class="sd">      state: The integer index of the source state.</span>
<span class="sd">      tr: The tr to add.</span>
<span class="sd">    Returns:</span>
<span class="sd">      self.</span>
<span class="sd">    Raises:</span>
<span class="sd">      SnipsFstException: If State index out of range.</span>
<span class="sd">    See also: `add_state`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_add_tr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">),</span> <span class="n">tr</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during `add_tr`&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.add_state">
<code class="highlight language-python"><span class="n">add_state</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Adds a new state to the FST and returns the state ID.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer index of the new state.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>add_tr</code>, <code>set_start</code>, <code>set_final</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">add_state</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Adds a new state to the FST and returns the state ID.</span>
<span class="sd">    Returns:</span>
<span class="sd">      The integer index of the new state.</span>
<span class="sd">    See also: `add_tr`, `set_start`, `set_final`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_add_state</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">state_id</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during `add_state`&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">state_id</span><span class="o">.</span><span class="n">value</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.set_final">
<code class="highlight language-python"><span class="n">set_final</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Sets the final weight for a state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer index of a state.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code>float</code>
          </td>
          <td><p>A float indicating the desired final weight; if
  omitted, it is set to semiring One.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>State index out of range or Incompatible or invalid weight.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>set_start</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the final weight for a state.</span>
<span class="sd">    Args:</span>
<span class="sd">      state: The integer index of a state.</span>
<span class="sd">      weight: A float indicating the desired final weight; if</span>
<span class="sd">          omitted, it is set to semiring One.</span>
<span class="sd">    Raises:</span>
<span class="sd">      ValueError: State index out of range or Incompatible or invalid weight.</span>
<span class="sd">    See also: `set_start`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

    <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">)</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_set_final</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting final state&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.unset_final">
<code class="highlight language-python"><span class="n">unset_final</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Unset the final weight of a state. As a result, the state is no longer final.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer index of a state</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>State index out of range.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">unset_final</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Unset the final weight of a state. As a result, the state is no longer final.</span>
<span class="sd">    Args:</span>
<span class="sd">        state: The integer index of a state</span>
<span class="sd">    Raises:</span>
<span class="sd">      ValueError: State index out of range.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_del_final_weight</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error unsetting final state&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.mutable_trs">
<code class="highlight language-python"><span class="n">mutable_trs</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableTrsIterator</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Returns a mutable iterator over trs leaving the specified state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The source state ID.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.iterators.MutableTrsIterator" href="iterators/#rustfst.iterators.MutableTrsIterator">MutableTrsIterator</a></code>
          </td>
          <td><p>A MutableTrsIterator.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>trs</code>, <code>states</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">mutable_trs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">MutableTrsIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns a mutable iterator over trs leaving the specified state.</span>
<span class="sd">    Args:</span>
<span class="sd">      state: The source state ID.</span>
<span class="sd">    Returns:</span>
<span class="sd">      A MutableTrsIterator.</span>
<span class="sd">    See also: `trs`, `states`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">MutableTrsIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.delete_states">
<code class="highlight language-python"><span class="n">delete_states</span><span class="p">()</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Delete all the states</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">delete_states</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete all the states</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_delete_states</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error deleting states&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.num_states">
<code class="highlight language-python"><span class="n">num_states</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Returns the number of states.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>int</code>
          </td>
          <td><p>Number of states present in the Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">num_states</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns the number of states.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Number of states present in the Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">num_states</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_num_states</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">num_states</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error getting number of states&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_states</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.set_start">
<code class="highlight language-python"><span class="n">set_start</span><span class="p">(</span><span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Sets a state to be the initial state state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>state</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The integer index of a state.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>If State index out of range.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>set_final</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">set_start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">state</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets a state to be the initial state state.</span>
<span class="sd">    Args:</span>
<span class="sd">      state: The integer index of a state.</span>
<span class="sd">    Raises:</span>
<span class="sd">      ValueError: If State index out of range.</span>
<span class="sd">    See also: `set_final`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">state_id</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_set_start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">state_id</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error setting start state&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.states">
<code class="highlight language-python"><span class="n">states</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">StateIterator</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Returns an iterator over all states in the FST.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.iterators.StateIterator" href="iterators/#rustfst.iterators.StateIterator">StateIterator</a></code>
          </td>
          <td><p>A StateIterator object for the FST.</p></td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>trs</code>, <code>mutable_trs</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">states</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StateIterator</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns an iterator over all states in the FST.</span>
<span class="sd">    Returns:</span>
<span class="sd">      A StateIterator object for the FST.</span>
<span class="sd">    See also: `trs`, `mutable_trs`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">StateIterator</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.relabel_tables">
<code class="highlight language-python"><span class="n">relabel_tables</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">old_isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">new_isymbols</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">attach_new_isymbols</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">old_osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">new_osymbols</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">attach_new_osymbols</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Destructively relabel the Fst with new Symbol Tables.</p>
<p>Relabelling refers to the operation where all the labels of an Fst are mapped to the equivalent labels
of a new <code>SymbolTable</code>.
If the Fst has a label <code>1</code> corresponding to the symbol "alpha" in the current symbol table and "alpha"
is mapped to 4 in a new SymbolTable, then all the 1 are going to be mapped to 4.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>old_isymbols</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>Input <code>SymbolTable</code> used to build the Fst. If <code>None</code>, uses the Input <code>SymbolTable</code> attached to the Fst.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>new_isymbols</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>New Input <code>SymbolTable</code> to use.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>attach_new_isymbols</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to attach the new Input <code>SymbolTable</code> to the Fst. If False, the resulting Fst won't contain any attached Input <code>SymbolTable</code>.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
        <tr>
          <td><code>old_osymbols</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>Output <code>SymbolTable</code> used to build the Fst. If <code>None</code>, uses the Output <code>SymbolTable</code> attached to the Fst</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>new_osymbols</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>New Output <code>SymbolTable</code> to use.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>attach_new_osymbols</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether to attach the new Output <code>SymbolTable</code> to the Fst. If False, the resulting Fst won't contain any attached Output <code>SymbolTable</code>.</p></td>
          <td>
                <code>True</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>self</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">relabel_tables</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">old_isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">new_isymbols</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
    <span class="n">attach_new_isymbols</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="n">old_osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">new_osymbols</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
    <span class="n">attach_new_osymbols</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Destructively relabel the Fst with new Symbol Tables.</span>

<span class="sd">    Relabelling refers to the operation where all the labels of an Fst are mapped to the equivalent labels</span>
<span class="sd">    of a new `SymbolTable`.</span>
<span class="sd">    If the Fst has a label `1` corresponding to the symbol &quot;alpha&quot; in the current symbol table and &quot;alpha&quot;</span>
<span class="sd">    is mapped to 4 in a new SymbolTable, then all the 1 are going to be mapped to 4.</span>

<span class="sd">    Args:</span>
<span class="sd">        old_isymbols: Input `SymbolTable` used to build the Fst. If `None`, uses the Input `SymbolTable` attached to the Fst.</span>
<span class="sd">        new_isymbols: New Input `SymbolTable` to use.</span>
<span class="sd">        attach_new_isymbols: Whether to attach the new Input `SymbolTable` to the Fst. If False, the resulting Fst won&#39;t contain any attached Input `SymbolTable`.</span>
<span class="sd">        old_osymbols: Output `SymbolTable` used to build the Fst. If `None`, uses the Output `SymbolTable` attached to the Fst</span>
<span class="sd">        new_osymbols: New Output `SymbolTable` to use.</span>
<span class="sd">        attach_new_osymbols: Whether to attach the new Output `SymbolTable` to the Fst. If False, the resulting Fst won&#39;t contain any attached Output `SymbolTable`.</span>

<span class="sd">    Returns:</span>
<span class="sd">        self</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">old_isymbols_ptr</span> <span class="o">=</span> <span class="n">old_isymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">old_isymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">old_osymbols_ptr</span> <span class="o">=</span> <span class="n">old_osymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">old_osymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_relabel_tables</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">old_isymbols_ptr</span><span class="p">,</span>
        <span class="n">new_isymbols</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">attach_new_isymbols</span><span class="p">),</span>
        <span class="n">old_osymbols_ptr</span><span class="p">,</span>
        <span class="n">new_osymbols</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">attach_new_osymbols</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Relabel tables failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="c1"># Necessary because the symts are cached on the python side.</span>
    <span class="k">if</span> <span class="n">attach_new_isymbols</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="n">new_isymbols</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_input_symbols</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">attach_new_osymbols</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="n">new_osymbols</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_output_symbols</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.draw">
<code class="highlight language-python"><span class="n">draw</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">drawing_config</span><span class="p">:</span> <span class="n">DrawingConfig</span> <span class="o">=</span> <span class="n">DrawingConfig</span><span class="p">())</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Writes out the FST in Graphviz text format.
This method writes out the FST in the dot graph description language. The
graph can be rendered using the <code>dot</code> executable provided by Graphviz.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The string location of the output dot/Graphviz file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>isymbols</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>An optional symbol table used to label input symbols.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>osymbols</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>An optional symbol table used to label output symbols.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>drawing_config</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.drawing_config.DrawingConfig" href="drawing_config/#rustfst.drawing_config.DrawingConfig">DrawingConfig</a></code>
          </td>
          <td><p>Drawing configuration to use.</p></td>
          <td>
                <code>DrawingConfig()</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>text</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">drawing_config</span><span class="p">:</span> <span class="n">DrawingConfig</span> <span class="o">=</span> <span class="n">DrawingConfig</span><span class="p">(),</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Writes out the FST in Graphviz text format.</span>
<span class="sd">    This method writes out the FST in the dot graph description language. The</span>
<span class="sd">    graph can be rendered using the `dot` executable provided by Graphviz.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the output dot/Graphviz file.</span>
<span class="sd">      isymbols: An optional symbol table used to label input symbols.</span>
<span class="sd">      osymbols: An optional symbol table used to label output symbols.</span>
<span class="sd">      drawing_config: Drawing configuration to use.</span>
<span class="sd">    See also: `text`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">isymbols_ptr</span> <span class="o">=</span> <span class="n">isymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">isymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">osymbols_ptr</span> <span class="o">=</span> <span class="n">osymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">osymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span><span class="p">)</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_draw</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">isymbols_ptr</span><span class="p">,</span>
        <span class="n">osymbols_ptr</span><span class="p">,</span>
        <span class="n">filename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">drawing_config</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">acceptor</span><span class="p">),</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">height</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">portrait</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">vertical</span><span class="p">),</span>
        <span class="n">ranksep</span><span class="p">,</span>
        <span class="n">nodesep</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">fontsize</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">show_weight_one</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">print_weight</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;fst draw failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.read">
<code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Read a Fst at a given path.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
          </td>
          <td><p>The string location of the input file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An Fst.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Read failed.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read a Fst at a given path.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the input file.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An Fst.</span>
<span class="sd">    Raises:</span>
<span class="sd">      ValueError: Read failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_from_path</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.write">
<code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Serializes FST to a file.
This method writes the FST to a file in vector binary format.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
          </td>
          <td><p>The string location of the output file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Write failed.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Serializes FST to a file.</span>
<span class="sd">    This method writes the FST to a file in vector binary format.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the output file.</span>
<span class="sd">    Raises:</span>
<span class="sd">      ValueError: Write failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_write_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.from_bytes">
<code class="highlight language-python"><span class="n">from_bytes</span><span class="p">(</span><span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Load a <code>VectorFst</code> from a sequence of bytes.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>data</code></td>
          <td>
                <code>bytes</code>
          </td>
          <td><p>Sequence of bytes.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Loaded <code>VectorFst</code>.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">from_bytes</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Load a `VectorFst` from a sequence of bytes.</span>
<span class="sd">    Args:</span>
<span class="sd">        data: Sequence of bytes.</span>

<span class="sd">    Returns:</span>
<span class="sd">        Loaded `VectorFst`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

    <span class="c1"># Define a temporary struct to hold the bytes array</span>
    <span class="k">class</span> <span class="nc">BytesArray</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
        <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;data_ptr&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">)]</span>

    <span class="n">c_bytes</span> <span class="o">=</span> <span class="n">BytesArray</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_from_bytes</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">c_bytes</span><span class="p">),</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst_ptr</span><span class="p">))</span>
    <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`from_bytes` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">fst_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.to_bytes">
<code class="highlight language-python"><span class="n">to_bytes</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bytes</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Turns the <code>VectorFst</code> into bytes.</p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bytes</code>
          </td>
          <td><p>Sequence of bytes.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bytes</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Turns the `VectorFst` into bytes.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Sequence of bytes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Define a temporary struct to hold the bytes array</span>
    <span class="k">class</span> <span class="nc">BytesArray</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
        <span class="n">_fields_</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;data_ptr&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;size&quot;</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">)]</span>

    <span class="n">bytes_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">BytesArray</span><span class="p">())</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_to_bytes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">bytes_ptr</span><span class="p">))</span>
    <span class="n">error_msg</span> <span class="o">=</span> <span class="s2">&quot;`to_bytes` failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">error_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span>
        <span class="p">[</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_ubyte</span><span class="o">.</span><span class="n">from_address</span><span class="p">(</span><span class="n">bytes_ptr</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">data_ptr</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">bytes_ptr</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
        <span class="p">]</span>
    <span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.equals">
<code class="highlight language-python"><span class="n">equals</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Check if this Fst is equal to the other.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>other</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>Fst instance</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether both Fst are equals.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if this Fst is equal to the other.</span>
<span class="sd">    Args:</span>
<span class="sd">        other: Fst instance</span>
<span class="sd">    Returns:</span>
<span class="sd">         Whether both Fst are equals.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is_equal</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_equals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_equal</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking equality&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_equal</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.copy">
<code class="highlight language-python"><span class="n">copy</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">


  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>A copy of the Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">        A copy of the Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cloned_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">vec_fst_copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error copying fst&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>




  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.concat">
<code class="highlight language-python"><span class="n">concat</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Compute Fst Concatenation of this Fst with another Fst. Returning the resulting Fst.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>other</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to concatenate with.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The concatenated Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">concat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute Fst Concatenation of this Fst with another Fst. Returning the resulting Fst.</span>
<span class="sd">    Args:</span>
<span class="sd">        other: Fst to concatenate with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The concatenated Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">rustfst.algorithms.concat</span> <span class="kn">import</span> <span class="n">concat</span>

    <span class="k">return</span> <span class="n">concat</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.connect">
<code class="highlight language-python"><span class="n">connect</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>This operation trims an Fst, removing states and trs that are not on successful paths.</p>
<p>Examples :</p>
<ul>
<li>Input</li>
</ul>
<p><img alt="connect_in" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_in.svg?sanitize=true" /></p>
<ul>
<li>Output</li>
</ul>
<p><img alt="connect_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_out.svg?sanitize=true" /></p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>self</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This operation trims an Fst, removing states and trs that are not on successful paths.</span>

<span class="sd">    Examples :</span>

<span class="sd">    - Input</span>

<span class="sd">    ![connect_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_in.svg?sanitize=true)</span>

<span class="sd">    - Output</span>

<span class="sd">    ![connect_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_out.svg?sanitize=true)</span>

<span class="sd">    Returns:</span>
<span class="sd">        self</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">rustfst.algorithms.connect</span> <span class="kn">import</span> <span class="n">connect</span>

    <span class="k">return</span> <span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.top_sort">
<code class="highlight language-python"><span class="n">top_sort</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>This operation topologically sorts its input. When sorted, all transitions are from
lower to higher state IDs.</p>
<p>Examples :</p>
<ul>
<li>Input</li>
</ul>
<p><img alt="topsort_in" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_in.svg?sanitize=true" /></p>
<ul>
<li>Output</li>
</ul>
<p><img alt="topsort_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_out.svg?sanitize=true" /></p>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Equivalent top sorted Fst. Modification also happens in-place.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">top_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This operation topologically sorts its input. When sorted, all transitions are from</span>
<span class="sd">    lower to higher state IDs.</span>

<span class="sd">    Examples :</span>

<span class="sd">    - Input</span>

<span class="sd">    ![topsort_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_in.svg?sanitize=true)</span>

<span class="sd">    - Output</span>

<span class="sd">    ![topsort_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_out.svg?sanitize=true)</span>

<span class="sd">    Returns:</span>
<span class="sd">        Equivalent top sorted Fst. Modification also happens in-place.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">from</span> <span class="nn">rustfst.algorithms.top_sort</span> <span class="kn">import</span> <span class="n">top_sort</span>

    <span class="k">return</span> <span class="n">top_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>














  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.__add__">
<code class="highlight language-python"><span class="fm">__add__</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p><code>fst_1 + fst_2</code> is a shortcut to perform the concatenation of <code>fst_1</code> and <code>fst_2</code>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>other</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>VectorFst to concatenate after the current Fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The concatenated Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">546</span>
<span class="normal">547</span>
<span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `fst_1 + fst_2` is a shortcut to perform the concatenation of `fst_1` and `fst_2`.</span>
<span class="sd">    Args:</span>
<span class="sd">        other: VectorFst to concatenate after the current Fst.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The concatenated Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.__mul__">
<code class="highlight language-python"><span class="fm">__mul__</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p><code>fst_1 * fst_2</code> is a shortcut to perform the composition of <code>fst_1</code> and <code>fst_2</code>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>other</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>VectorFst to compose with.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The composed Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__mul__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `fst_1 * fst_2` is a shortcut to perform the composition of `fst_1` and `fst_2`.</span>
<span class="sd">    Args:</span>
<span class="sd">        other: VectorFst to compose with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The composed Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">compose</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.vector_fst.VectorFst.__or__">
<code class="highlight language-python"><span class="fm">__or__</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h10>


    <div class="doc doc-contents ">

      <p><code>fst_1 | fst_2</code> is a shortcut to perform the union of <code>fst_1</code> and <code>fst_2</code>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>other</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>VectorFst to perform the union with.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/vector_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    `fst_1 | fst_2` is a shortcut to perform the union of `fst_1` and `fst_2`.</span>
<span class="sd">    Args:</span>
<span class="sd">        other: VectorFst to perform the union with.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>







  </div>

    </div>

  </div>


<h7 id="rustfst.fst.vector_fst-functions">Functions</h7>



  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.fst.const_fst">
        <code>const_fst</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.fst.const_fst-attributes">Attributes</h7>
<h7 id="rustfst.fst.const_fst-classes">Classes</h7>

  <div class="doc doc-object doc-class">



<h8 class="doc doc-heading" id="rustfst.fst.const_fst.ConstFst">
          <code>ConstFst</code>



</h8>


    <div class="doc doc-contents ">
        <p class="doc doc-class-bases">
          Bases: <code><a class="autorefs autorefs-internal" title="rustfst.fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code></p>




          <details class="quote">
            <summary>Source code in <code>rustfst/fst/const_fst.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 15</span>
<span class="normal"> 16</span>
<span class="normal"> 17</span>
<span class="normal"> 18</span>
<span class="normal"> 19</span>
<span class="normal"> 20</span>
<span class="normal"> 21</span>
<span class="normal"> 22</span>
<span class="normal"> 23</span>
<span class="normal"> 24</span>
<span class="normal"> 25</span>
<span class="normal"> 26</span>
<span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ConstFst</span><span class="p">(</span><span class="n">Fst</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ptr</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ptr</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">ptr</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Const fst should be init with a pointer or loaded from a file&quot;</span>
            <span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">draw</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">drawing_config</span><span class="p">:</span> <span class="n">DrawingConfig</span> <span class="o">=</span> <span class="n">DrawingConfig</span><span class="p">(),</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Writes out the FST in Graphviz text format.</span>
<span class="sd">        This method writes out the FST in the dot graph description language. The</span>
<span class="sd">        graph can be rendered using the `dot` executable provided by Graphviz.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the output dot/Graphviz file.</span>
<span class="sd">          isymbols: An optional symbol table used to label input symbols.</span>
<span class="sd">          osymbols: An optional symbol table used to label output symbols.</span>
<span class="sd">          drawing_config: Drawing configuration to use.</span>
<span class="sd">        See also: `text`.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">isymbols_ptr</span> <span class="o">=</span> <span class="n">isymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">isymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="n">osymbols_ptr</span> <span class="o">=</span> <span class="n">osymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">osymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span><span class="p">)</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_draw</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
            <span class="n">isymbols_ptr</span><span class="p">,</span>
            <span class="n">osymbols_ptr</span><span class="p">,</span>
            <span class="n">filename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
            <span class="n">drawing_config</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">acceptor</span><span class="p">),</span>
            <span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">portrait</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">vertical</span><span class="p">),</span>
            <span class="n">ranksep</span><span class="p">,</span>
            <span class="n">nodesep</span><span class="p">,</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">fontsize</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">show_weight_one</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">print_weight</span><span class="p">),</span>
        <span class="p">)</span>

        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;fst draw failed&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ConstFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Read a Fst at a given path.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the input file.</span>
<span class="sd">        Returns:</span>
<span class="sd">          An FST.</span>
<span class="sd">        Raises:</span>
<span class="sd">          ValueError: Read failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_from_path</span><span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">fst</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Serializes FST to a file.</span>
<span class="sd">        This method writes the FST to a file in binary format.</span>
<span class="sd">        Args:</span>
<span class="sd">          filename: The string location of the output file.</span>
<span class="sd">        Raises:</span>
<span class="sd">          ValueError: Write failed.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_write_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if this Fst is equal to the other</span>
<span class="sd">        Args :</span>
<span class="sd">            other: Fst instance</span>
<span class="sd">        Returns:</span>
<span class="sd">             bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_equal</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_equals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_equal</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking equality&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_equal</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConstFst</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns :</span>
<span class="sd">            Deepcopy of the Fst.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cloned_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error copying fst&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ConstFst</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_display</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error displaying ConstFst&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">string_at</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf8&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h9 id="rustfst.fst.const_fst.ConstFst-attributes">Attributes</h9>


<h9 id="rustfst.fst.const_fst.ConstFst-functions">Functions</h9>


  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.const_fst.ConstFst.draw">
<code class="highlight language-python"><span class="n">draw</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">drawing_config</span><span class="p">:</span> <span class="n">DrawingConfig</span> <span class="o">=</span> <span class="n">DrawingConfig</span><span class="p">())</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Writes out the FST in Graphviz text format.
This method writes out the FST in the dot graph description language. The
graph can be rendered using the <code>dot</code> executable provided by Graphviz.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The string location of the output dot/Graphviz file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>isymbols</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>An optional symbol table used to label input symbols.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>osymbols</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[<a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a>]</code>
          </td>
          <td><p>An optional symbol table used to label output symbols.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>drawing_config</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.drawing_config.DrawingConfig" href="drawing_config/#rustfst.drawing_config.DrawingConfig">DrawingConfig</a></code>
          </td>
          <td><p>Drawing configuration to use.</p></td>
          <td>
                <code>DrawingConfig()</code>
          </td>
        </tr>
    </tbody>
  </table>
      <p>See also: <code>text</code>.</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/const_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">isymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">osymbols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">SymbolTable</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">drawing_config</span><span class="p">:</span> <span class="n">DrawingConfig</span> <span class="o">=</span> <span class="n">DrawingConfig</span><span class="p">(),</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Writes out the FST in Graphviz text format.</span>
<span class="sd">    This method writes out the FST in the dot graph description language. The</span>
<span class="sd">    graph can be rendered using the `dot` executable provided by Graphviz.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the output dot/Graphviz file.</span>
<span class="sd">      isymbols: An optional symbol table used to label input symbols.</span>
<span class="sd">      osymbols: An optional symbol table used to label output symbols.</span>
<span class="sd">      drawing_config: Drawing configuration to use.</span>
<span class="sd">    See also: `text`.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">isymbols_ptr</span> <span class="o">=</span> <span class="n">isymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">isymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>
    <span class="n">osymbols_ptr</span> <span class="o">=</span> <span class="n">osymbols</span><span class="o">.</span><span class="n">ptr</span> <span class="k">if</span> <span class="n">osymbols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">width</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">width</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">ranksep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">ranksep</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="o">-</span><span class="mf">1.0</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">nodesep</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">nodesep</span><span class="p">)</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_draw</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">isymbols_ptr</span><span class="p">,</span>
        <span class="n">osymbols_ptr</span><span class="p">,</span>
        <span class="n">filename</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">drawing_config</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">acceptor</span><span class="p">),</span>
        <span class="n">width</span><span class="p">,</span>
        <span class="n">height</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">portrait</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">vertical</span><span class="p">),</span>
        <span class="n">ranksep</span><span class="p">,</span>
        <span class="n">nodesep</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">fontsize</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">show_weight_one</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">drawing_config</span><span class="o">.</span><span class="n">print_weight</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;fst draw failed&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.const_fst.ConstFst.read">
<code class="highlight language-python"><span class="n">read</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ConstFst</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Read a Fst at a given path.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
          </td>
          <td><p>The string location of the input file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.const_fst.ConstFst" href="fst/const_fst/#rustfst.fst.const_fst.ConstFst">ConstFst</a></code>
          </td>
          <td><p>An FST.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Read failed.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/const_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@classmethod</span>
<span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">ConstFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read a Fst at a given path.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the input file.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An FST.</span>
<span class="sd">    Raises:</span>
<span class="sd">      ValueError: Read failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_from_path</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">fst</span><span class="p">),</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Read failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="bp">cls</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.const_fst.ConstFst.write">
<code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">])</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Serializes FST to a file.
This method writes the FST to a file in binary format.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
          </td>
          <td><p>The string location of the output file.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>Write failed.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/const_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">write</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Path</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Serializes FST to a file.</span>
<span class="sd">    This method writes the FST to a file in binary format.</span>
<span class="sd">    Args:</span>
<span class="sd">      filename: The string location of the output file.</span>
<span class="sd">    Raises:</span>
<span class="sd">      ValueError: Write failed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_write_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Write failed. file: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.const_fst.ConstFst.equals">
<code class="highlight language-python"><span class="n">equals</span><span class="p">(</span><span class="n">other</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Check if this Fst is equal to the other</p>

<details class="args-">
  <summary>Args</summary>
  <p>other: Fst instance</p>
</details>
  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>bool</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/fst/const_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">equals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="n">Fst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if this Fst is equal to the other</span>
<span class="sd">    Args :</span>
<span class="sd">        other: Fst instance</span>
<span class="sd">    Returns:</span>
<span class="sd">         bool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is_equal</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_equals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_equal</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking equality&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_equal</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.fst.const_fst.ConstFst.copy">
<code class="highlight language-python"><span class="n">copy</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">ConstFst</span></code>


</h10>


    <div class="doc doc-contents ">


<details class="returns-">
  <summary>Returns</summary>
  <p>Deepcopy of the Fst.</p>
</details>
        <details class="quote">
          <summary>Source code in <code>rustfst/fst/const_fst.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">copy</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ConstFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns :</span>
<span class="sd">        Deepcopy of the Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">cloned_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">const_fst_copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error copying fst&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">ConstFst</span><span class="p">(</span><span class="n">cloned_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>






  </div>

    </div>

  </div>


<h7 id="rustfst.fst.const_fst-functions">Functions</h7>



  </div>

    </div>

  </div>




  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h4 class="doc doc-heading" id="rustfst.algorithms">
        <code>algorithms</code>



</h4>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h5 id="rustfst.algorithms-attributes">Attributes</h5>
<h5 id="rustfst.algorithms-classes">Classes</h5>
<h5 id="rustfst.algorithms-functions">Functions</h5>

  <div class="doc doc-object doc-function">



<h6 class="doc doc-heading" id="rustfst.algorithms.acceptor">
<code class="highlight language-python"><span class="n">acceptor</span><span class="p">(</span><span class="n">astring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">symbol_table</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h6>


    <div class="doc doc-contents ">

      <p>Creates an acceptor from a string.
This function creates a FST which accepts its input with a fixed weight
(defaulting to semiring One).</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>astring</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The input string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>A Weight or weight string indicating the desired path weight. If
omitted or null, the path weight is set to semiring One.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>symbol_table</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable to be used to encode the string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST acceptor.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">acceptor</span><span class="p">(</span>
    <span class="n">astring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">symbol_table</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates an acceptor from a string.</span>
<span class="sd">    This function creates a FST which accepts its input with a fixed weight</span>
<span class="sd">    (defaulting to semiring One).</span>
<span class="sd">    Args:</span>
<span class="sd">      astring: The input string.</span>
<span class="sd">      weight: A Weight or weight string indicating the desired path weight. If</span>
<span class="sd">        omitted or null, the path weight is set to semiring One.</span>
<span class="sd">      symbol_table: SymbolTable to be used to encode the string.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An FST acceptor.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

    <span class="n">acceptor_fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">utils_string_to_acceptor</span><span class="p">(</span>
        <span class="n">astring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">symbol_table</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">acceptor_fst_ptr</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating acceptor FST&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">acceptor_fst_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 class="doc doc-heading" id="rustfst.algorithms.transducer">
<code class="highlight language-python"><span class="n">transducer</span><span class="p">(</span><span class="n">istring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">ostring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">isymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">osymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h6>


    <div class="doc doc-contents ">

      <p>Creates a transducer from a pair of strings or acceptor FSTs.
This function creates a FST which transduces from the first string to
the second with a fixed weight (defaulting to semiring One).</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>istring</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The input string</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>ostring</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>The output string</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>A Weight as float.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>isymt</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable to be used to encode the string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>osymt</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.symbol_table.SymbolTable" href="symbol_table/#rustfst.symbol_table.SymbolTable">SymbolTable</a></code>
          </td>
          <td><p>SymbolTable to be used to encode the string.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST transducer.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">transducer</span><span class="p">(</span>
    <span class="n">istring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">ostring</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">isymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
    <span class="n">osymt</span><span class="p">:</span> <span class="n">SymbolTable</span><span class="p">,</span>
    <span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates a transducer from a pair of strings or acceptor FSTs.</span>
<span class="sd">    This function creates a FST which transduces from the first string to</span>
<span class="sd">    the second with a fixed weight (defaulting to semiring One).</span>
<span class="sd">    Args:</span>
<span class="sd">      istring: The input string</span>
<span class="sd">      ostring: The output string</span>
<span class="sd">      weight: A Weight as float.</span>
<span class="sd">      isymt: SymbolTable to be used to encode the string.</span>
<span class="sd">      osymt: SymbolTable to be used to encode the string.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An FST transducer.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>

    <span class="n">transducer_fst_ptr</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">utils_string_to_transducer</span><span class="p">(</span>
        <span class="n">istring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">ostring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">),</span>
        <span class="n">isymt</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">osymt</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">weight</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">transducer_fst_ptr</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating tranducer FST&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">transducer_fst_ptr</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h6 class="doc doc-heading" id="rustfst.algorithms.epsilon_machine">
<code class="highlight language-python"><span class="n">epsilon_machine</span><span class="p">(</span><span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h6>


    <div class="doc doc-contents ">

      <p>Constructs a single-state, no-arc FST accepting epsilon.
This function creates an unweighted FST with a single state which is both
initial and final.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td><p>A Weight. Default semiring One.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/__init__.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">epsilon_machine</span><span class="p">(</span><span class="n">weight</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructs a single-state, no-arc FST accepting epsilon.</span>
<span class="sd">    This function creates an unweighted FST with a single state which is both</span>
<span class="sd">    initial and final.</span>
<span class="sd">    Args:</span>
<span class="sd">      weight: A Weight. Default semiring One.</span>
<span class="sd">    Returns:</span>
<span class="sd">      An FST.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">weight</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">weight</span> <span class="o">=</span> <span class="n">weight_one</span><span class="p">()</span>
    <span class="n">fst</span> <span class="o">=</span> <span class="n">VectorFst</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">fst</span><span class="o">.</span><span class="n">add_state</span><span class="p">()</span>
    <span class="n">fst</span><span class="o">.</span><span class="n">set_start</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="n">fst</span><span class="o">.</span><span class="n">set_final</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">weight</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>


<h5 id="rustfst.algorithms-modules">Modules</h5>

  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.rm_epsilon">
        <code>rm_epsilon</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.rm_epsilon-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.rm_epsilon-classes">Classes</h7>
<h7 id="rustfst.algorithms.rm_epsilon-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.rm_epsilon.rm_epsilon">
<code class="highlight language-python"><span class="n">rm_epsilon</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>rm_epsilon(fst)
rm_epsilon an fst
:param fst: Fst
:return: Fst</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/rm_epsilon.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">rm_epsilon</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    rm_epsilon(fst)</span>
<span class="sd">    rm_epsilon an fst</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">rm_epsilon_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_rm_epsilon</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">rm_epsilon_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during rm_epsilon&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">rm_epsilon_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.top_sort">
        <code>top_sort</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.top_sort-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.top_sort-classes">Classes</h7>
<h7 id="rustfst.algorithms.top_sort-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.top_sort.top_sort">
<code class="highlight language-python"><span class="n">top_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>This operation topologically sorts its input. When sorted, all transitions are from lower to higher state IDs.</p>
<p>Examples :</p>
<ul>
<li>Input</li>
</ul>
<p><img alt="topsort_in" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_in.svg?sanitize=true" /></p>
<ul>
<li>Output</li>
</ul>
<p><img alt="topsort_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_out.svg?sanitize=true" /></p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to top_sort.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Equivalent top sorted Fst. Modification also happens in-place.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/top_sort.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">top_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This operation topologically sorts its input. When sorted, all transitions are from lower to higher state IDs.</span>

<span class="sd">    Examples :</span>

<span class="sd">    - Input</span>

<span class="sd">    ![topsort_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_in.svg?sanitize=true)</span>

<span class="sd">    - Output</span>

<span class="sd">    ![topsort_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/topsort_out.svg?sanitize=true)</span>

<span class="sd">    Args:</span>
<span class="sd">        fst: Fst to top_sort.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Equivalent top sorted Fst. Modification also happens in-place.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">top_sorted_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_top_sort</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">top_sorted_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during top_sort&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">top_sorted_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.tr_unique">
        <code>tr_unique</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.tr_unique-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.tr_unique-classes">Classes</h7>
<h7 id="rustfst.algorithms.tr_unique-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.tr_unique.tr_unique">
<code class="highlight language-python"><span class="n">tr_unique</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Keep a single instance of trs leaving the same state, going to the same state and
with the same input labels, output labels and weight.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to modify</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/tr_unique.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">tr_unique</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Keep a single instance of trs leaving the same state, going to the same state and</span>
<span class="sd">    with the same input labels, output labels and weight.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Fst to modify</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_tr_unique</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during tr_unique&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.tr_sort">
        <code>tr_sort</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.tr_sort-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.tr_sort-classes">Classes</h7>
<h7 id="rustfst.algorithms.tr_sort-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.tr_sort.tr_sort">
<code class="highlight language-python"><span class="n">tr_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">ilabel_cmp</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>tr_sort(fst)
sort fst trs according to their ilabel or olabel
:param fst: Fst
:param ilabel_cmp: bool</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/tr_sort.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">tr_sort</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">ilabel_cmp</span><span class="p">:</span> <span class="nb">bool</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    tr_sort(fst)</span>
<span class="sd">    sort fst trs according to their ilabel or olabel</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :param ilabel_cmp: bool</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_tr_sort</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">ilabel_cmp</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during tr_sort&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.shortest_path">
        <code>shortest_path</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.shortest_path-attributes">Attributes</h7>

<h7 id="rustfst.algorithms.shortest_path-classes">Classes</h7>

<h7 id="rustfst.algorithms.shortest_path-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.shortest_path.shortestpath">
<code class="highlight language-python"><span class="n">shortestpath</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>shortestpath(fst)
construct a FST containing the shortest path of the input FST
:param fst: Fst
:return: Fst</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/shortest_path.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">shortestpath</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    shortestpath(fst)</span>
<span class="sd">    construct a FST containing the shortest path of the input FST</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">shortest_path</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_shortest_path</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">shortest_path</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error computing shortest path&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">shortest_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.shortest_path.shortestpath_with_config">
<code class="highlight language-python"><span class="n">shortestpath_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ShortestPathConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>shortestpath(fst,config)
construct a FST containing the n-shortest path(s) in the input FST
:param fst: Fst
:param config: ShortestPathConfig
:return: Fst</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/shortest_path.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">shortestpath_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ShortestPathConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    shortestpath(fst,config)</span>
<span class="sd">    construct a FST containing the n-shortest path(s) in the input FST</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :param config: ShortestPathConfig</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">shortest_path</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_shortest_path_with_config</span><span class="p">(</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">shortest_path</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error computing shortest path&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">shortest_path</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.determinize">
        <code>determinize</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.determinize-attributes">Attributes</h7>

<h7 id="rustfst.algorithms.determinize-classes">Classes</h7>

  <div class="doc doc-object doc-class">



<h8 class="doc doc-heading" id="rustfst.algorithms.determinize.DeterminizeType">
          <code>DeterminizeType</code>



</h8>


    <div class="doc doc-contents ">
        <p class="doc doc-class-bases">
          Bases: <code><span title="enum.Enum">Enum</span></code></p>


      <p>Enumeration defining the type of the determinization to perform.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeterminizeType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enumeration defining the type of the determinization to perform.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">DETERMINIZE_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input transducer is known to be functional (or error).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">DETERMINIZE_NON_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input transducer is NOT known to be functional.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">DETERMINIZE_DISAMBIGUATE</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input transducer is not known to be functional but only keep the min of</span>
<span class="sd">    of ambiguous outputs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h9 id="rustfst.algorithms.determinize.DeterminizeType-attributes">Attributes</h9>

  <div class="doc doc-object doc-attribute">



<h10 class="doc doc-heading" id="rustfst.algorithms.determinize.DeterminizeType.DETERMINIZE_FUNCTIONAL">
<code class="highlight language-python"><span class="n">DETERMINIZE_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">0</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Input transducer is known to be functional (or error).</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h10 class="doc doc-heading" id="rustfst.algorithms.determinize.DeterminizeType.DETERMINIZE_NON_FUNCTIONAL">
<code class="highlight language-python"><span class="n">DETERMINIZE_NON_FUNCTIONAL</span> <span class="o">=</span> <span class="mi">1</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Input transducer is NOT known to be functional.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h10 class="doc doc-heading" id="rustfst.algorithms.determinize.DeterminizeType.DETERMINIZE_DISAMBIGUATE">
<code class="highlight language-python"><span class="n">DETERMINIZE_DISAMBIGUATE</span> <span class="o">=</span> <span class="mi">2</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Input transducer is not known to be functional but only keep the min of
of ambiguous outputs.</p>
    </div>

  </div>







  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h8 class="doc doc-heading" id="rustfst.algorithms.determinize.DeterminizeConfig">
          <code>DeterminizeConfig</code>



</h8>


    <div class="doc doc-contents ">


      <p>Struct containing the parameters controlling the determinization algorithm.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">DeterminizeConfig</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Struct containing the parameters controlling the determinization algorithm.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">det_type</span><span class="p">:</span> <span class="n">DeterminizeType</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Creates the configuration object.</span>
<span class="sd">        Args:</span>
<span class="sd">            det_type: Type of determinization to perform.</span>
<span class="sd">            delta:</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">delta</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">delta</span> <span class="o">=</span> <span class="n">KDELTA</span>

        <span class="n">config</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
        <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize_config_new</span><span class="p">(</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">det_type</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
            <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">config</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating DeterminizeConfig&quot;</span>
        <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h9 id="rustfst.algorithms.determinize.DeterminizeConfig-attributes">Attributes</h9>


<h9 id="rustfst.algorithms.determinize.DeterminizeConfig-functions">Functions</h9>

  <div class="doc doc-object doc-function">



<h10 class="doc doc-heading" id="rustfst.algorithms.determinize.DeterminizeConfig.__init__">
<code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">det_type</span><span class="p">:</span> <span class="n">DeterminizeType</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span></code>


</h10>


    <div class="doc doc-contents ">

      <p>Creates the configuration object.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>det_type</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.algorithms.determinize.DeterminizeType" href="algorithms/determinize/#rustfst.algorithms.determinize.DeterminizeType">DeterminizeType</a></code>
          </td>
          <td><p>Type of determinization to perform.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>delta</code></td>
          <td>
                <code><span title="typing.Optional">Optional</span>[float]</code>
          </td>
          <td></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">det_type</span><span class="p">:</span> <span class="n">DeterminizeType</span><span class="p">,</span> <span class="n">delta</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Creates the configuration object.</span>
<span class="sd">    Args:</span>
<span class="sd">        det_type: Type of determinization to perform.</span>
<span class="sd">        delta:</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">delta</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">delta</span> <span class="o">=</span> <span class="n">KDELTA</span>

    <span class="n">config</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize_config_new</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">delta</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">det_type</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">config</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating DeterminizeConfig&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">ptr</span> <span class="o">=</span> <span class="n">config</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>


<h7 id="rustfst.algorithms.determinize-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.determinize.determinize">
<code class="highlight language-python"><span class="n">determinize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Make an Fst deterministic</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The Fst to make deterministic.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">determinize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make an Fst deterministic</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: The Fst to make deterministic.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">det_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">det_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during determinization&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">det_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.determinize.determinize_with_config">
<code class="highlight language-python"><span class="n">determinize_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">DeterminizeConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Make an Fst deterministic</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The Fst to make deterministic.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.algorithms.determinize.DeterminizeConfig" href="algorithms/determinize/#rustfst.algorithms.determinize.DeterminizeConfig">DeterminizeConfig</a></code>
          </td>
          <td><p>Configuration of the determinization algorithm to use.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/determinize.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">determinize_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">DeterminizeConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Make an Fst deterministic</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: The Fst to make deterministic.</span>
<span class="sd">        config: Configuration of the determinization algorithm to use.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">det_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_determinize_with_config</span><span class="p">(</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">det_fst</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during determinization&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">det_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.union">
        <code>union</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.union-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.union-classes">Classes</h7>
<h7 id="rustfst.algorithms.union-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.union.union">
<code class="highlight language-python"><span class="n">union</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Performs the union of two wFSTs. If A transduces string <code>x</code> to <code>y</code> with weight <code>a</code>
and <code>B</code> transduces string <code>w</code> to <code>v</code> with weight <code>b</code>, then their union transduces <code>x</code> to <code>y</code>
with weight <code>a</code> and <code>w</code> to <code>v</code> with weight <code>b</code>.</p>

<p><strong>Examples:</strong></p>
    
      <ul>
<li>Input Fst 1:</li>
</ul>
<p><img alt="union_in_1" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_1.svg?sanitize=true" /></p>
<ul>
<li>Input Fst 2:</li>
</ul>
<p><img alt="union_in_2" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_2.svg?sanitize=true" /></p>
<ul>
<li>Union:</li>
</ul>
<p><img alt="union_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_out.svg?sanitize=true" /></p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/union.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">union</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs the union of two wFSTs. If A transduces string `x` to `y` with weight `a`</span>
<span class="sd">    and `B` transduces string `w` to `v` with weight `b`, then their union transduces `x` to `y`</span>
<span class="sd">    with weight `a` and `w` to `v` with weight `b`.</span>

<span class="sd">    Examples:</span>
<span class="sd">    - Input Fst 1:</span>

<span class="sd">    ![union_in_1](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_1.svg?sanitize=true)</span>

<span class="sd">    - Input Fst 2:</span>

<span class="sd">    ![union_in_2](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_in_2.svg?sanitize=true)</span>

<span class="sd">    - Union:</span>

<span class="sd">    ![union_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/union_out.svg?sanitize=true)</span>

<span class="sd">    Args:</span>
<span class="sd">        fst:</span>
<span class="sd">        other_fst:</span>
<span class="sd">    Returns:</span>
<span class="sd">         The resulting Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_union</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during union&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.union.union_list">
<code class="highlight language-python"><span class="n">union_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Computes the union of a list of Fsts.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fsts</code></td>
          <td>
                <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a>]</code>
          </td>
          <td><p>The list of Fsts to produce the union.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/union.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">union_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Computes the union of a list of Fsts.</span>

<span class="sd">    Args:</span>
<span class="sd">        fsts: The list of Fsts to produce the union.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fsts</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fsts must be at least of len 1&quot;</span><span class="p">)</span>
    <span class="n">fsts</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">]</span>
    <span class="n">res_fst</span> <span class="o">=</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">res_fst</span> <span class="o">=</span> <span class="n">union</span><span class="p">(</span><span class="n">res_fst</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res_fst</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.compose">
        <code>compose</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.compose-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.compose-classes">Classes</h7>


<h7 id="rustfst.algorithms.compose-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.compose.compose">
<code class="highlight language-python"><span class="n">compose</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Compute the composition of two FSTs.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Left fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Right fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Resulting fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/compose.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compose</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the composition of two FSTs.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Left fst.</span>
<span class="sd">        other_fst: Right fst.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Resulting fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">composition</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_compose</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">composition</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error Composing FSTs&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">composition</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.compose.compose_with_config">
<code class="highlight language-python"><span class="n">compose_with_config</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ComposeConfig</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Compute the composition of two FSTs parametrized with a config.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Left fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Right fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>config</code></td>
          <td>
                <code><span title="rustfst.algorithms.compose.ComposeConfig">ComposeConfig</span></code>
          </td>
          <td><p>Config parameters of the composition.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Resulting fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/compose.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">compose_with_config</span><span class="p">(</span>
    <span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">ComposeConfig</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the composition of two FSTs parametrized with a config.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Left fst.</span>
<span class="sd">        other_fst: Right fst.</span>
<span class="sd">        config: Config parameters of the composition.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Resulting fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">composition</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_compose_with_config</span><span class="p">(</span>
        <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">composition</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error Composing FSTs&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">composition</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.randgen">
        <code>randgen</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.randgen-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.randgen-classes">Classes</h7>
<h7 id="rustfst.algorithms.randgen-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.randgen.randgen">
<code class="highlight language-python"><span class="n">randgen</span><span class="p">(</span><span class="n">ifst</span><span class="p">:</span> <span class="n">Fst</span><span class="p">,</span> <span class="n">npath</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">select</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="n">max_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2147483647</span><span class="p">,</span> <span class="n">weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">remove_total_weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Randomly generate successful paths in an FST.
This operation randomly generates a set of successful paths in the input FST.
This relies on a mechanism for selecting arcs, specified using the <code>select</code>
argument. The default selector, "uniform", randomly selects a transition
using a uniform distribution. The "log_prob" selector randomly selects a
transition w.r.t. the weights treated as negative log probabilities after
normalizing for the total weight leaving the state. In all cases, finality is
treated as a transition to a super-final state.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>ifst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.Fst" href="fst/#rustfst.fst.Fst">Fst</a></code>
          </td>
          <td><p>The input FST.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>npath</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The number of random paths to generate.</p></td>
          <td>
                <code>1</code>
          </td>
        </tr>
        <tr>
          <td><code>seed</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>An optional seed value for random path generation; if zero, the
current time and process ID is used.</p></td>
          <td>
                <code>0</code>
          </td>
        </tr>
        <tr>
          <td><code>select</code></td>
          <td>
                <code>str</code>
          </td>
          <td><p>A string matching a known random arc selection type; one of:
"uniform", "log_prob", "fast_log_prob".</p></td>
          <td>
                <code>&#39;uniform&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>max_length</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The maximum length of each random path.</p></td>
          <td>
                <code>2147483647</code>
          </td>
        </tr>
        <tr>
          <td><code>weight</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should the output be weighted by path count?</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>remove_total_weight</code></td>
          <td>
                <code>bool</code>
          </td>
          <td><p>Should the total weight be removed (ignored when
<code>weighted</code> is False)?</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>An FST containing one or more random paths.</p></td>
        </tr>
    </tbody>
  </table>

  <p><strong>Raises:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>ValueError</code>
          </td>
          <td><p>when something wrong happened.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/randgen.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">randgen</span><span class="p">(</span>
    <span class="n">ifst</span><span class="p">:</span> <span class="n">Fst</span><span class="p">,</span>
    <span class="n">npath</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
    <span class="n">seed</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">select</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;uniform&quot;</span><span class="p">,</span>
    <span class="n">max_length</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">2147483647</span><span class="p">,</span>
    <span class="n">weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">remove_total_weight</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Randomly generate successful paths in an FST.</span>
<span class="sd">    This operation randomly generates a set of successful paths in the input FST.</span>
<span class="sd">    This relies on a mechanism for selecting arcs, specified using the `select`</span>
<span class="sd">    argument. The default selector, &quot;uniform&quot;, randomly selects a transition</span>
<span class="sd">    using a uniform distribution. The &quot;log_prob&quot; selector randomly selects a</span>
<span class="sd">    transition w.r.t. the weights treated as negative log probabilities after</span>
<span class="sd">    normalizing for the total weight leaving the state. In all cases, finality is</span>
<span class="sd">    treated as a transition to a super-final state.</span>

<span class="sd">    Args:</span>
<span class="sd">        ifst: The input FST.</span>
<span class="sd">        npath: The number of random paths to generate.</span>
<span class="sd">        seed: An optional seed value for random path generation; if zero, the</span>
<span class="sd">            current time and process ID is used.</span>
<span class="sd">        select: A string matching a known random arc selection type; one of:</span>
<span class="sd">            &quot;uniform&quot;, &quot;log_prob&quot;, &quot;fast_log_prob&quot;.</span>
<span class="sd">        max_length: The maximum length of each random path.</span>
<span class="sd">        weight: Should the output be weighted by path count?</span>
<span class="sd">        remove_total_weight: Should the total weight be removed (ignored when</span>
<span class="sd">            `weighted` is False)?</span>

<span class="sd">    Returns:</span>
<span class="sd">        An FST containing one or more random paths.</span>

<span class="sd">    Raises:</span>
<span class="sd">      ValueError: when something wrong happened.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">select</span> <span class="o">!=</span> <span class="s2">&quot;uniform&quot;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Only the uniform distribution is supported for now. Found </span><span class="si">{</span><span class="n">select</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

    <span class="n">npath</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">npath</span><span class="p">)</span>
    <span class="n">seed</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
    <span class="n">max_length</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">max_length</span><span class="p">)</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">weight</span><span class="p">)</span>
    <span class="n">remove_total_weight</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">remove_total_weight</span><span class="p">)</span>
    <span class="n">randgen_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_randgen</span><span class="p">(</span>
        <span class="n">ifst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span>
        <span class="n">npath</span><span class="p">,</span>
        <span class="n">seed</span><span class="p">,</span>
        <span class="n">max_length</span><span class="p">,</span>
        <span class="n">weight</span><span class="p">,</span>
        <span class="n">remove_total_weight</span><span class="p">,</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">randgen_fst</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during randgen&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">randgen_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.reverse">
        <code>reverse</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.reverse-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.reverse-classes">Classes</h7>
<h7 id="rustfst.algorithms.reverse-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.reverse.reverse">
<code class="highlight language-python"><span class="n">reverse</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>reverse(fst)
reverse an fst
:param fst: Fst
:return: Fst</p>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/reverse.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    reverse(fst)</span>
<span class="sd">    reverse an fst</span>
<span class="sd">    :param fst: Fst</span>
<span class="sd">    :return: Fst</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">reversed_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_reverse</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">reversed_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during reverse&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">reversed_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.isomorphic">
        <code>isomorphic</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.isomorphic-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.isomorphic-classes">Classes</h7>
<h7 id="rustfst.algorithms.isomorphic-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.isomorphic.isomorphic">
<code class="highlight language-python"><span class="n">isomorphic</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Check if two Fsts are isomorphic.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>First Fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Second Fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>bool</code>
          </td>
          <td><p>Whether both Fsts are equal.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/isomorphic.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">isomorphic</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check if two Fsts are isomorphic.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: First Fst.</span>
<span class="sd">        other_fst: Second Fst.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Whether both Fsts are equal.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">is_isomorphic</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_isomorphic</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">is_isomorphic</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error checking isomorphic FSTs&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">is_isomorphic</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.optimize">
        <code>optimize</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.optimize-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.optimize-classes">Classes</h7>
<h7 id="rustfst.algorithms.optimize-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.optimize.optimize">
<code class="highlight language-python"><span class="n">optimize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Optimize an fst.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst to optimize.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/optimize.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">optimize</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Optimize an fst.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Fst to optimize.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_optimize</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during optimize&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.concat">
        <code>concat</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.concat-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.concat-classes">Classes</h7>
<h7 id="rustfst.algorithms.concat-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.concat.concat">
<code class="highlight language-python"><span class="n">concat</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Compute the concatenation of two Fsts.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Left fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>other_fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Right fst.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Resulting fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/concat.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">concat</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">other_fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the concatenation of two Fsts.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Left fst.</span>
<span class="sd">        other_fst: Right fst.</span>
<span class="sd">    Returns:</span>
<span class="sd">        Resulting fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_concat</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">other_fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during concat&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.concat.concat_list">
<code class="highlight language-python"><span class="n">concat_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Compute the concatenation of a list of Fsts.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fsts</code></td>
          <td>
                <code><span title="typing.List">List</span>[<a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a>]</code>
          </td>
          <td><p>List of Fsts to concatenated</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting concatenated Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/concat.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">concat_list</span><span class="p">(</span><span class="n">fsts</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">VectorFst</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Compute the concatenation of a list of Fsts.</span>
<span class="sd">    Args:</span>
<span class="sd">        fsts: List of Fsts to concatenated</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting concatenated Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">fsts</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;fsts must be at least of len 1&quot;</span><span class="p">)</span>
    <span class="n">fsts</span> <span class="o">=</span> <span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">]</span>
    <span class="n">concatenated</span> <span class="o">=</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">fsts</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
        <span class="n">concatenated</span> <span class="o">=</span> <span class="n">concatenated</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">concatenated</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.project">
        <code>project</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.project-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.project-classes">Classes</h7>

  <div class="doc doc-object doc-class">



<h8 class="doc doc-heading" id="rustfst.algorithms.project.ProjectType">
          <code>ProjectType</code>



</h8>


    <div class="doc doc-contents ">
        <p class="doc doc-class-bases">
          Bases: <code><span title="enum.Enum">Enum</span></code></p>


      <p>Different types of labels projection in a Fst.</p>


          <details class="quote">
            <summary>Source code in <code>rustfst/algorithms/project.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ProjectType</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Different types of labels projection in a Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">PROJECT_INPUT</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input projection : output labels are replaced with input ones.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">PROJECT_OUTPUT</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Output projection : input labels are replaced with output ones.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</code></pre></div></td></tr></table></div>
          </details>



  <div class="doc doc-children">




<h9 id="rustfst.algorithms.project.ProjectType-attributes">Attributes</h9>

  <div class="doc doc-object doc-attribute">



<h10 class="doc doc-heading" id="rustfst.algorithms.project.ProjectType.PROJECT_INPUT">
<code class="highlight language-python"><span class="n">PROJECT_INPUT</span> <span class="o">=</span> <span class="mi">0</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Input projection : output labels are replaced with input ones.</p>
    </div>

  </div>



  <div class="doc doc-object doc-attribute">



<h10 class="doc doc-heading" id="rustfst.algorithms.project.ProjectType.PROJECT_OUTPUT">
<code class="highlight language-python"><span class="n">PROJECT_OUTPUT</span> <span class="o">=</span> <span class="mi">1</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-label doc-label-class-attribute"><code>class-attribute</code></small>
  </span>

</h10>


    <div class="doc doc-contents ">

      <p>Output projection : input labels are replaced with output ones.</p>
    </div>

  </div>







  </div>

    </div>

  </div>


<h7 id="rustfst.algorithms.project-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.project.project">
<code class="highlight language-python"><span class="n">project</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">proj_type</span><span class="p">:</span> <span class="n">ProjectType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Convert a Fst to an acceptor using input or output labels.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>fst</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>Fst on which to apply the algorithm.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>proj_type</code></td>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.algorithms.project.ProjectType" href="algorithms/project/#rustfst.algorithms.project.ProjectType">ProjectType</a></code>
          </td>
          <td><p>Whether to replace input labels or output labels.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/project.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">project</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">,</span> <span class="n">proj_type</span><span class="p">:</span> <span class="n">ProjectType</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Convert a Fst to an acceptor using input or output labels.</span>
<span class="sd">    Args:</span>
<span class="sd">        fst: Fst on which to apply the algorithm.</span>
<span class="sd">        proj_type: Whether to replace input labels or output labels.</span>
<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_project_type_new</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">proj_type</span><span class="o">.</span><span class="n">value</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">config</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error creating ProjectType&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_project</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during projection&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">fst</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.replace">
        <code>replace</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.replace-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.replace-classes">Classes</h7>

<h7 id="rustfst.algorithms.replace-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.replace.replace">
<code class="highlight language-python"><span class="n">replace</span><span class="p">(</span><span class="n">root_idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fst_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="n">VectorFst</span><span class="p">],</span> <span class="n">epsilon_on_replace</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>Recursively replaces trs in the root FSTs with other FSTs.</p>
<p>Replace supports replacement of trs in one Fst with another FST. This
replacement is recursive. Replace takes an array of FST(s). One FST
represents the root (or topology) machine. The root FST refers to other FSTs
by recursively replacing trs labeled as non-terminals with the matching
non-terminal FST. Currently Replace uses the output symbols of the trs to
determine whether the transition is a non-terminal transition or not. A non-terminal can be
any label that is not a non-zero terminal label in the output alphabet.</p>
<p>Note that input argument is a vector of pairs. These correspond to the tuple
of non-terminal Label and corresponding FST.</p>

<p><strong>Examples:</strong></p>
    
      <ul>
<li>Root Fst :</li>
</ul>
<p><img alt="replace_in_1" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_1.svg?sanitize=true" /></p>
<ul>
<li>Fst for non-terminal #NAME :</li>
</ul>
<p><img alt="replace_in_2" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_2.svg?sanitize=true" /></p>
<ul>
<li>Fst for non-terminal #FIRSTNAME :</li>
</ul>
<p><img alt="replace_in_3" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_3.svg?sanitize=true" /></p>
<ul>
<li>Fst for non-terminal #LASTNAME :</li>
</ul>
<p><img alt="replace_in_4" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_4.svg?sanitize=true" /></p>
<ul>
<li>Output :</li>
</ul>
<p><img alt="replace_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_out.svg?sanitize=true" /></p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>root_idx</code></td>
          <td>
                <code>int</code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>fst_list</code></td>
          <td>
                <code><span title="typing.List">List</span>[int, <a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a>]</code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>epsilon_on_replace</code></td>
          <td>
                <code>bool</code>
          </td>
          <td></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><a class="autorefs autorefs-internal" title="rustfst.fst.vector_fst.VectorFst" href="fst/vector_fst/#rustfst.fst.vector_fst.VectorFst">VectorFst</a></code>
          </td>
          <td><p>The resulting Fst.</p></td>
        </tr>
    </tbody>
  </table>

        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/replace.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">replace</span><span class="p">(</span>
    <span class="n">root_idx</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">fst_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[(</span><span class="nb">int</span><span class="p">,</span> <span class="n">VectorFst</span><span class="p">)],</span> <span class="n">epsilon_on_replace</span><span class="p">:</span> <span class="nb">bool</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recursively replaces trs in the root FSTs with other FSTs.</span>

<span class="sd">    Replace supports replacement of trs in one Fst with another FST. This</span>
<span class="sd">    replacement is recursive. Replace takes an array of FST(s). One FST</span>
<span class="sd">    represents the root (or topology) machine. The root FST refers to other FSTs</span>
<span class="sd">    by recursively replacing trs labeled as non-terminals with the matching</span>
<span class="sd">    non-terminal FST. Currently Replace uses the output symbols of the trs to</span>
<span class="sd">    determine whether the transition is a non-terminal transition or not. A non-terminal can be</span>
<span class="sd">    any label that is not a non-zero terminal label in the output alphabet.</span>

<span class="sd">    Note that input argument is a vector of pairs. These correspond to the tuple</span>
<span class="sd">    of non-terminal Label and corresponding FST.</span>

<span class="sd">    Examples:</span>

<span class="sd">    - Root Fst :</span>

<span class="sd">    ![replace_in_1](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_1.svg?sanitize=true)</span>

<span class="sd">    - Fst for non-terminal #NAME :</span>

<span class="sd">    ![replace_in_2](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_2.svg?sanitize=true)</span>

<span class="sd">    - Fst for non-terminal #FIRSTNAME :</span>

<span class="sd">    ![replace_in_3](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_3.svg?sanitize=true)</span>

<span class="sd">    - Fst for non-terminal #LASTNAME :</span>

<span class="sd">    ![replace_in_4](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_in_4.svg?sanitize=true)</span>

<span class="sd">    - Output :</span>

<span class="sd">    ![replace_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/replace_out.svg?sanitize=true)</span>

<span class="sd">    Args:</span>
<span class="sd">        root_idx:</span>
<span class="sd">        fst_list:</span>
<span class="sd">        epsilon_on_replace:</span>

<span class="sd">    Returns:</span>
<span class="sd">        The resulting Fst.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">[</span><span class="n">LabelFstPair</span><span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">label</span><span class="p">,</span> <span class="n">fst</span><span class="p">)</span> <span class="ow">in</span> <span class="n">fst_list</span><span class="p">]</span>
    <span class="n">pairs_array</span> <span class="o">=</span> <span class="p">(</span><span class="n">LabelFstPair</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">pairs</span><span class="p">))(</span><span class="o">*</span><span class="n">pairs</span><span class="p">)</span>
    <span class="n">res_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">())</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_replace</span><span class="p">(</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="n">root_idx</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">pairs_array</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pairs</span><span class="p">)),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">c_bool</span><span class="p">(</span><span class="n">epsilon_on_replace</span><span class="p">),</span>
        <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">res_fst</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error performing replace&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">res_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-module">



<h6 class="doc doc-heading" id="rustfst.algorithms.connect">
        <code>connect</code>



</h6>

    <div class="doc doc-contents ">




  <div class="doc doc-children">




<h7 id="rustfst.algorithms.connect-attributes">Attributes</h7>
<h7 id="rustfst.algorithms.connect-classes">Classes</h7>
<h7 id="rustfst.algorithms.connect-functions">Functions</h7>

  <div class="doc doc-object doc-function">



<h8 class="doc doc-heading" id="rustfst.algorithms.connect.connect">
<code class="highlight language-python"><span class="n">connect</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span></code>


</h8>


    <div class="doc doc-contents ">

      <p>This operation trims an Fst, removing states and trs that are not on successful paths.</p>
<p>Examples :</p>
<ul>
<li>Input :</li>
</ul>
<p><img alt="connect_in" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_in.svg?sanitize=true" /></p>
<ul>
<li>Output :</li>
</ul>
<p><img alt="connect_out" src="https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_out.svg?sanitize=true" /></p>

<details class="returns-">
  <summary>Returns</summary>
  <p>self</p>
</details>
        <details class="quote">
          <summary>Source code in <code>rustfst/algorithms/connect.py</code></summary>
          <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">connect</span><span class="p">(</span><span class="n">fst</span><span class="p">:</span> <span class="n">VectorFst</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">VectorFst</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This operation trims an Fst, removing states and trs that are not on successful paths.</span>

<span class="sd">    Examples :</span>

<span class="sd">    - Input :</span>

<span class="sd">    ![connect_in](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_in.svg?sanitize=true)</span>

<span class="sd">    - Output :</span>

<span class="sd">    ![connect_out](https://raw.githubusercontent.com/Garvys/rustfst-images-doc/master/images/connect_out.svg?sanitize=true)</span>

<span class="sd">    Returns :</span>
<span class="sd">        self</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">connectd_fst</span> <span class="o">=</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">()</span>
    <span class="n">ret_code</span> <span class="o">=</span> <span class="n">lib</span><span class="o">.</span><span class="n">fst_connect</span><span class="p">(</span><span class="n">fst</span><span class="o">.</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ctypes</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">connectd_fst</span><span class="p">))</span>
    <span class="n">err_msg</span> <span class="o">=</span> <span class="s2">&quot;Error during connect&quot;</span>
    <span class="n">check_ffi_error</span><span class="p">(</span><span class="n">ret_code</span><span class="p">,</span> <span class="n">err_msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">VectorFst</span><span class="p">(</span><span class="n">ptr</span><span class="o">=</span><span class="n">connectd_fst</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>




  </div>

    </div>

  </div>




  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../.." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="algorithms/" class="md-footer__link md-footer__link--next" aria-label="Next: algorithms" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              algorithms
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.c2e1ee47.min.js"></script>
      
    
  </body>
</html>